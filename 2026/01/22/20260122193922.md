# Commit: e2c375eaf32cc3fac67e89b8708f2ef235c00e33
## Message: GBDaoGenerator: Generate sample providers

Most "basic" sample providers are the same, this reduces the boilerplate
code necessary to add a new sample to the database.
## Changed files:
app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericHeartRateSampleProvider.java

app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericHrvValueSampleProvider.java

app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericSleepStageSampleProvider.kt

app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericSpo2SampleProvider.java

app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericStressSampleProvider.java

app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericTrainingLoadAcuteSampleProvider.java

app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericTrainingLoadChronicSampleProvider.java

app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericWeightSampleProvider.kt

app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GlucoseSampleProvider.kt

app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/HeartPulseSampleProvider.java

app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/HeartRrIntervalSampleProvider.java

GBDaoGenerator/src/nodomain/freeyourgadget/gadgetbridge/daogen/GBDaoGenerator.java

app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/DeviceCoordinator.java

app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/generic_scale/GenericWeightScaleCoordinator.kt

app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/generic_scale/GenericWeightScaleMeasurementActivity.kt

## Diff:
```
diff --git a/GBDaoGenerator/src/nodomain/freeyourgadget/gadgetbridge/daogen/GBDaoGenerator.java b/GBDaoGenerator/src/nodomain/freeyourgadget/gadgetbridge/daogen/GBDaoGenerator.java
index f9331fb9b2..ac6d61f88a 100644
--- a/GBDaoGenerator/src/nodomain/freeyourgadget/gadgetbridge/daogen/GBDaoGenerator.java
+++ b/GBDaoGenerator/src/nodomain/freeyourgadget/gadgetbridge/daogen/GBDaoGenerator.java
@@ -15,13 +15,17 @@
  */
 package nodomain.freeyourgadget.gadgetbridge.daogen;
 
+import java.io.BufferedWriter;
 import java.io.File;
+import java.io.FileWriter;
 import java.io.IOException;
 import java.nio.file.FileVisitResult;
 import java.nio.file.Files;
 import java.nio.file.Path;
 import java.nio.file.SimpleFileVisitor;
 import java.nio.file.attribute.BasicFileAttributes;
+import java.util.LinkedList;
+import java.util.List;
 
 import de.greenrobot.daogenerator.DaoGenerator;
 import de.greenrobot.daogenerator.Entity;
@@ -74,6 +78,8 @@ public class GBDaoGenerator {
 
         final Schema schema = new Schema(126, MAIN_PACKAGE + ".entities");
 
+        final List<Entity> sampleProvidersToGenerate = new LinkedList<>();
+
         Entity userAttributes = addUserAttributes(schema);
         Entity user = addUserInfo(schema, userAttributes);
 
@@ -103,8 +109,8 @@ public class GBDaoGenerator {
         addHuamiSleepSessionSample(schema, user, device);
         addXiaomiActivitySample(schema, user, device);
         addXiaomiSleepTimeSamples(schema, user, device);
-        addHeartPulseSamples(schema, user, device);
-        addHeartRrIntervalSamples(schema, user, device);
+        sampleProvidersToGenerate.add(addHeartPulseSamples(schema, user, device));
+        sampleProvidersToGenerate.add(addHeartRrIntervalSamples(schema, user, device));
         addXiaomiSleepStageSamples(schema, user, device);
         addXiaomiManualSamples(schema, user, device);
         addXiaomiDailySummarySamples(schema, user, device);
@@ -230,20 +236,24 @@ public class GBDaoGenerator {
         addActivitySummary(schema, user, device);
         addBatteryLevel(schema, device);
 
-        addGenericHeartRateSample(schema, user, device);
-        addGenericSpo2Sample(schema, user, device);
-        addGenericStressSample(schema, user, device);
-        addGenericHrvValueSample(schema, user, device);
+        sampleProvidersToGenerate.add(addGenericHeartRateSample(schema, user, device));
+        sampleProvidersToGenerate.add(addGenericSpo2Sample(schema, user, device));
+        sampleProvidersToGenerate.add(addGenericStressSample(schema, user, device));
+        sampleProvidersToGenerate.add(addGenericHrvValueSample(schema, user, device));
         addGenericTemperatureSample(schema, user, device);
-        addGenericSleepStageSample(schema, user, device);
-        addGenericTrainingLoadAcuteSample(schema, user, device);
-        addGenericTrainingLoadChronicSample(schema, user, device);
-        addGenericWeightSample(schema, user, device);
-        addGlucoseSample(schema, user, device);
+        sampleProvidersToGenerate.add(addGenericSleepStageSample(schema, user, device));
+        sampleProvidersToGenerate.add(addGenericTrainingLoadAcuteSample(schema, user, device));
+        sampleProvidersToGenerate.add(addGenericTrainingLoadChronicSample(schema, user, device));
+        sampleProvidersToGenerate.add(addGenericWeightSample(schema, user, device));
+        sampleProvidersToGenerate.add(addGlucoseSample(schema, user, device));
 
         deleteOldFiles();
 
         new DaoGenerator().generateAll(schema, OUTPUT_DIR);
+
+        for (Entity entity : sampleProvidersToGenerate) {
+            generateSampleProvider(entity);
+        }
     }
 
     private static void deleteOldFiles() throws IOException {
@@ -2255,4 +2265,78 @@ public class GBDaoGenerator {
         bloodPressureSample.addIntProperty("measurementStatus");
         return bloodPressureSample;
     }
+
+    private static final String SAMPLE_PROVIDER_TEMPLATE = """
+            /*  Copyright (C) 2026 Freeyourgadget
+            
+                This file is part of Gadgetbridge.
+            
+                Gadgetbridge is free software: you can redistribute it and/or modify
+                it under the terms of the GNU Affero General Public License as published
+                by the Free Software Foundation, either version 3 of the License, or
+                (at your option) any later version.
+            
+                Gadgetbridge is distributed in the hope that it will be useful,
+                but WITHOUT ANY WARRANTY; without even the implied warranty of
+                MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+                GNU Affero General Public License for more details.
+            
+                You should have received a copy of the GNU Affero General Public License
+                along with this program.  If not, see <https://www.gnu.org/licenses/>. */
+            package nodomain.freeyourgadget.gadgetbridge.devices;
+        
+            import androidx.annotation.NonNull;
+        
+            import de.greenrobot.dao.AbstractDao;
+            import de.greenrobot.dao.Property;
+            import nodomain.freeyourgadget.gadgetbridge.entities.${classNameSample};
+            import nodomain.freeyourgadget.gadgetbridge.entities.${classNameDao};
+            import nodomain.freeyourgadget.gadgetbridge.entities.DaoSession;
+            import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;
+        
+            public class ${classNameSample}Provider extends AbstractTimeSampleProvider<${classNameSample}> {
+                public ${classNameSample}Provider(@NonNull final GBDevice device, @NonNull final DaoSession session) {
+                    super(device, session);
+                }
+        
+                @NonNull
+                @Override
+                public AbstractDao<${classNameSample}, ?> getSampleDao() {
+                    return getSession().get${classNameDao}();
+                }
+        
+                @NonNull
+                @Override
+                protected Property getTimestampSampleProperty() {
+                    return ${classNameDao}.Properties.Timestamp;
+                }
+        
+                @NonNull
+                @Override
+                protected Property getDeviceIdentifierSampleProperty() {
+                    return ${classNameDao}.Properties.DeviceId;
+                }
+        
+                @NonNull
+                @Override
+                public ${classNameSample} createSample() {
+                    return new ${classNameSample}();
+                }
+            }
+            """;
+
+    private static void generateSampleProvider(final Entity entity) throws IOException {
+        final File outputDir = new File(OUTPUT_DIR + "/nodomain/freeyourgadget/gadgetbridge/devices");
+        //noinspection ResultOfMethodCallIgnored
+        outputDir.mkdirs();
+        final String generatedCode = SAMPLE_PROVIDER_TEMPLATE
+                .replace("${classNameSample}", entity.getClassName())
+                .replace("${classNameDao}", entity.getClassNameDao())
+                .replaceAll("\\R", System.lineSeparator());
+        final File file = new File(outputDir, entity.getClassName() + "Provider.java");
+        try (BufferedWriter writer = new BufferedWriter(new FileWriter(file, false))) {
+            writer.write(generatedCode);
+        }
+        System.out.println("Written " + file.getCanonicalPath());
+    }
 }
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/DeviceCoordinator.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/DeviceCoordinator.java
index c937ed6ec7..3b82cf1302 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/DeviceCoordinator.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/DeviceCoordinator.java
@@ -478,7 +478,7 @@ public interface DeviceCoordinator {
     /**
      * Returns the sample provider for weight data, for the device being supported.
      */
-    TimeSampleProvider<? extends WeightSample> getWeightSampleProvider(GBDevice device, DaoSession session);
+    TimeSampleProvider<? extends WeightSample> getWeightSampleProvider(@NonNull GBDevice device, @NonNull DaoSession session);
 
     TimeSampleProvider<? extends RestingMetabolicRateSample> getRestingMetabolicRateProvider(GBDevice device, DaoSession session);
 
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericHeartRateSampleProvider.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericHeartRateSampleProvider.java
deleted file mode 100644
index e740453327..0000000000
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericHeartRateSampleProvider.java
+++ /dev/null
@@ -1,56 +0,0 @@
-/*  Copyright (C) 2025  Thomas Kuehne
-
-    This file is part of Gadgetbridge.
-
-    Gadgetbridge is free software: you can redistribute it and/or modify
-    it under the terms of the GNU Affero General Public License as published
-    by the Free Software Foundation, either version 3 of the License, or
-    (at your option) any later version.
-
-    Gadgetbridge is distributed in the hope that it will be useful,
-    but WITHOUT ANY WARRANTY; without even the implied warranty of
-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-    GNU Affero General Public License for more details.
-
-    You should have received a copy of the GNU Affero General Public License
-    along with this program.  If not, see <https://www.gnu.org/licenses/>. */
-
-package nodomain.freeyourgadget.gadgetbridge.devices;
-
-import androidx.annotation.NonNull;
-
-import de.greenrobot.dao.AbstractDao;
-import de.greenrobot.dao.Property;
-import nodomain.freeyourgadget.gadgetbridge.entities.DaoSession;
-import nodomain.freeyourgadget.gadgetbridge.entities.GenericHeartRateSample;
-import nodomain.freeyourgadget.gadgetbridge.entities.GenericHeartRateSampleDao;
-import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;
-
-public class GenericHeartRateSampleProvider extends AbstractTimeSampleProvider<GenericHeartRateSample> {
-    public GenericHeartRateSampleProvider(final GBDevice device, final DaoSession session) {
-        super(device, session);
-    }
-
-    @NonNull
-    @Override
-    public AbstractDao<GenericHeartRateSample, ?> getSampleDao() {
-        return getSession().getGenericHeartRateSampleDao();
-    }
-
-    @NonNull
-    @Override
-    protected Property getTimestampSampleProperty() {
-        return GenericHeartRateSampleDao.Properties.Timestamp;
-    }
-
-    @NonNull
-    @Override
-    protected Property getDeviceIdentifierSampleProperty() {
-        return GenericHeartRateSampleDao.Properties.DeviceId;
-    }
-
-    @Override
-    public GenericHeartRateSample createSample() {
-        return new GenericHeartRateSample();
-    }
-}
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericHrvValueSampleProvider.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericHrvValueSampleProvider.java
deleted file mode 100644
index d20c4f21fa..0000000000
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericHrvValueSampleProvider.java
+++ /dev/null
@@ -1,56 +0,0 @@
-/*  Copyright (C) 2025  Thomas Kuehne
-
-    This file is part of Gadgetbridge.
-
-    Gadgetbridge is free software: you can redistribute it and/or modify
-    it under the terms of the GNU Affero General Public License as published
-    by the Free Software Foundation, either version 3 of the License, or
-    (at your option) any later version.
-
-    Gadgetbridge is distributed in the hope that it will be useful,
-    but WITHOUT ANY WARRANTY; without even the implied warranty of
-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-    GNU Affero General Public License for more details.
-
-    You should have received a copy of the GNU Affero General Public License
-    along with this program.  If not, see <https://www.gnu.org/licenses/>. */
-
-package nodomain.freeyourgadget.gadgetbridge.devices;
-
-import androidx.annotation.NonNull;
-
-import de.greenrobot.dao.AbstractDao;
-import de.greenrobot.dao.Property;
-import nodomain.freeyourgadget.gadgetbridge.entities.DaoSession;
-import nodomain.freeyourgadget.gadgetbridge.entities.GenericHrvValueSample;
-import nodomain.freeyourgadget.gadgetbridge.entities.GenericHrvValueSampleDao;
-import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;
-
-public class GenericHrvValueSampleProvider extends AbstractTimeSampleProvider<GenericHrvValueSample> {
-    public GenericHrvValueSampleProvider(final GBDevice device, final DaoSession session) {
-        super(device, session);
-    }
-
-    @NonNull
-    @Override
-    public AbstractDao<GenericHrvValueSample, ?> getSampleDao() {
-        return getSession().getGenericHrvValueSampleDao();
-    }
-
-    @NonNull
-    @Override
-    protected Property getTimestampSampleProperty() {
-        return GenericHrvValueSampleDao.Properties.Timestamp;
-    }
-
-    @NonNull
-    @Override
-    protected Property getDeviceIdentifierSampleProperty() {
-        return GenericHrvValueSampleDao.Properties.DeviceId;
-    }
-
-    @Override
-    public GenericHrvValueSample createSample() {
-        return new GenericHrvValueSample();
-    }
-}
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericSleepStageSampleProvider.kt b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericSleepStageSampleProvider.kt
deleted file mode 100644
index cf5dcc653f..0000000000
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericSleepStageSampleProvider.kt
+++ /dev/null
@@ -1,45 +0,0 @@
-/*  Copyright (C) 2025 José Rebelo
-
-    This file is part of Gadgetbridge.
-
-    Gadgetbridge is free software: you can redistribute it and/or modify
-    it under the terms of the GNU Affero General Public License as published
-    by the Free Software Foundation, either version 3 of the License, or
-    (at your option) any later version.
-
-    Gadgetbridge is distributed in the hope that it will be useful,
-    but WITHOUT ANY WARRANTY; without even the implied warranty of
-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-    GNU Affero General Public License for more details.
-
-    You should have received a copy of the GNU Affero General Public License
-    along with this program.  If not, see <https://www.gnu.org/licenses/>. */
-package nodomain.freeyourgadget.gadgetbridge.devices
-
-import de.greenrobot.dao.AbstractDao
-import de.greenrobot.dao.Property
-import nodomain.freeyourgadget.gadgetbridge.entities.DaoSession
-import nodomain.freeyourgadget.gadgetbridge.entities.GenericSleepStageSample
-import nodomain.freeyourgadget.gadgetbridge.entities.GenericSleepStageSampleDao
-import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice
-
-class GenericSleepStageSampleProvider(
-    device: GBDevice,
-    session: DaoSession
-) : AbstractTimeSampleProvider<GenericSleepStageSample?>(device, session) {
-    override fun getSampleDao(): AbstractDao<GenericSleepStageSample?, *> {
-        return session.genericSleepStageSampleDao
-    }
-
-    override fun getTimestampSampleProperty(): Property {
-        return GenericSleepStageSampleDao.Properties.Timestamp
-    }
-
-    override fun getDeviceIdentifierSampleProperty(): Property {
-        return GenericSleepStageSampleDao.Properties.DeviceId
-    }
-
-    override fun createSample(): GenericSleepStageSample {
-        return GenericSleepStageSample()
-    }
-}
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericSpo2SampleProvider.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericSpo2SampleProvider.java
deleted file mode 100644
index 4a714c4584..0000000000
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericSpo2SampleProvider.java
+++ /dev/null
@@ -1,56 +0,0 @@
-/*  Copyright (C) 2025  Thomas Kuehne
-
-    This file is part of Gadgetbridge.
-
-    Gadgetbridge is free software: you can redistribute it and/or modify
-    it under the terms of the GNU Affero General Public License as published
-    by the Free Software Foundation, either version 3 of the License, or
-    (at your option) any later version.
-
-    Gadgetbridge is distributed in the hope that it will be useful,
-    but WITHOUT ANY WARRANTY; without even the implied warranty of
-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-    GNU Affero General Public License for more details.
-
-    You should have received a copy of the GNU Affero General Public License
-    along with this program.  If not, see <https://www.gnu.org/licenses/>. */
-
-package nodomain.freeyourgadget.gadgetbridge.devices;
-
-import androidx.annotation.NonNull;
-
-import de.greenrobot.dao.AbstractDao;
-import de.greenrobot.dao.Property;
-import nodomain.freeyourgadget.gadgetbridge.entities.GenericSpo2Sample;
-import nodomain.freeyourgadget.gadgetbridge.entities.GenericSpo2SampleDao;
-import nodomain.freeyourgadget.gadgetbridge.entities.DaoSession;
-import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;
-
-public class GenericSpo2SampleProvider extends AbstractTimeSampleProvider<GenericSpo2Sample> {
-    public GenericSpo2SampleProvider(final GBDevice device, final DaoSession session) {
-        super(device, session);
-    }
-
-    @NonNull
-    @Override
-    public AbstractDao<GenericSpo2Sample, ?> getSampleDao() {
-        return getSession().getGenericSpo2SampleDao();
-    }
-
-    @NonNull
-    @Override
-    protected Property getTimestampSampleProperty() {
-        return GenericSpo2SampleDao.Properties.Timestamp;
-    }
-
-    @NonNull
-    @Override
-    protected Property getDeviceIdentifierSampleProperty() {
-        return GenericSpo2SampleDao.Properties.DeviceId;
-    }
-
-    @Override
-    public GenericSpo2Sample createSample() {
-        return new GenericSpo2Sample();
-    }
-}
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericStressSampleProvider.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericStressSampleProvider.java
deleted file mode 100644
index ddd052b3d4..0000000000
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericStressSampleProvider.java
+++ /dev/null
@@ -1,56 +0,0 @@
-/*  Copyright (C) 2025  Thomas Kuehne
-
-    This file is part of Gadgetbridge.
-
-    Gadgetbridge is free software: you can redistribute it and/or modify
-    it under the terms of the GNU Affero General Public License as published
-    by the Free Software Foundation, either version 3 of the License, or
-    (at your option) any later version.
-
-    Gadgetbridge is distributed in the hope that it will be useful,
-    but WITHOUT ANY WARRANTY; without even the implied warranty of
-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-    GNU Affero General Public License for more details.
-
-    You should have received a copy of the GNU Affero General Public License
-    along with this program.  If not, see <https://www.gnu.org/licenses/>. */
-
-package nodomain.freeyourgadget.gadgetbridge.devices;
-
-import androidx.annotation.NonNull;
-
-import de.greenrobot.dao.AbstractDao;
-import de.greenrobot.dao.Property;
-import nodomain.freeyourgadget.gadgetbridge.entities.DaoSession;
-import nodomain.freeyourgadget.gadgetbridge.entities.GenericStressSample;
-import nodomain.freeyourgadget.gadgetbridge.entities.GenericStressSampleDao;
-import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;
-
-public class GenericStressSampleProvider extends AbstractTimeSampleProvider<GenericStressSample> {
-    public GenericStressSampleProvider(final GBDevice device, final DaoSession session) {
-        super(device, session);
-    }
-
-    @NonNull
-    @Override
-    public AbstractDao<GenericStressSample, ?> getSampleDao() {
-        return getSession().getGenericStressSampleDao();
-    }
-
-    @NonNull
-    @Override
-    protected Property getTimestampSampleProperty() {
-        return GenericStressSampleDao.Properties.Timestamp;
-    }
-
-    @NonNull
-    @Override
-    protected Property getDeviceIdentifierSampleProperty() {
-        return GenericStressSampleDao.Properties.DeviceId;
-    }
-
-    @Override
-    public GenericStressSample createSample() {
-        return new GenericStressSample();
-    }
-}
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericTrainingLoadAcuteSampleProvider.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericTrainingLoadAcuteSampleProvider.java
deleted file mode 100644
index 8df34ad6f2..0000000000
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericTrainingLoadAcuteSampleProvider.java
+++ /dev/null
@@ -1,56 +0,0 @@
-/*  Copyright (C) 2025 José Rebelo
-
-    This file is part of Gadgetbridge.
-
-    Gadgetbridge is free software: you can redistribute it and/or modify
-    it under the terms of the GNU Affero General Public License as published
-    by the Free Software Foundation, either version 3 of the License, or
-    (at your option) any later version.
-
-    Gadgetbridge is distributed in the hope that it will be useful,
-    but WITHOUT ANY WARRANTY; without even the implied warranty of
-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-    GNU Affero General Public License for more details.
-
-    You should have received a copy of the GNU Affero General Public License
-    along with this program.  If not, see <https://www.gnu.org/licenses/>. */
-
-package nodomain.freeyourgadget.gadgetbridge.devices;
-
-import androidx.annotation.NonNull;
-
-import de.greenrobot.dao.AbstractDao;
-import de.greenrobot.dao.Property;
-import nodomain.freeyourgadget.gadgetbridge.entities.DaoSession;
-import nodomain.freeyourgadget.gadgetbridge.entities.GenericTrainingLoadAcuteSample;
-import nodomain.freeyourgadget.gadgetbridge.entities.GenericTrainingLoadAcuteSampleDao;
-import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;
-
-public class GenericTrainingLoadAcuteSampleProvider extends AbstractTimeSampleProvider<GenericTrainingLoadAcuteSample> {
-    public GenericTrainingLoadAcuteSampleProvider(final GBDevice device, final DaoSession session) {
-        super(device, session);
-    }
-
-    @NonNull
-    @Override
-    public AbstractDao<GenericTrainingLoadAcuteSample, ?> getSampleDao() {
-        return getSession().getGenericTrainingLoadAcuteSampleDao();
-    }
-
-    @NonNull
-    @Override
-    protected Property getTimestampSampleProperty() {
-        return GenericTrainingLoadAcuteSampleDao.Properties.Timestamp;
-    }
-
-    @NonNull
-    @Override
-    protected Property getDeviceIdentifierSampleProperty() {
-        return GenericTrainingLoadAcuteSampleDao.Properties.DeviceId;
-    }
-
-    @Override
-    public GenericTrainingLoadAcuteSample createSample() {
-        return new GenericTrainingLoadAcuteSample();
-    }
-}
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericTrainingLoadChronicSampleProvider.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericTrainingLoadChronicSampleProvider.java
deleted file mode 100644
index 17648535da..0000000000
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericTrainingLoadChronicSampleProvider.java
+++ /dev/null
@@ -1,56 +0,0 @@
-/*  Copyright (C) 2025 José Rebelo
-
-    This file is part of Gadgetbridge.
-
-    Gadgetbridge is free software: you can redistribute it and/or modify
-    it under the terms of the GNU Affero General Public License as published
-    by the Free Software Foundation, either version 3 of the License, or
-    (at your option) any later version.
-
-    Gadgetbridge is distributed in the hope that it will be useful,
-    but WITHOUT ANY WARRANTY; without even the implied warranty of
-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-    GNU Affero General Public License for more details.
-
-    You should have received a copy of the GNU Affero General Public License
-    along with this program.  If not, see <https://www.gnu.org/licenses/>. */
-
-package nodomain.freeyourgadget.gadgetbridge.devices;
-
-import androidx.annotation.NonNull;
-
-import de.greenrobot.dao.AbstractDao;
-import de.greenrobot.dao.Property;
-import nodomain.freeyourgadget.gadgetbridge.entities.DaoSession;
-import nodomain.freeyourgadget.gadgetbridge.entities.GenericTrainingLoadChronicSample;
-import nodomain.freeyourgadget.gadgetbridge.entities.GenericTrainingLoadChronicSampleDao;
-import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;
-
-public class GenericTrainingLoadChronicSampleProvider extends AbstractTimeSampleProvider<GenericTrainingLoadChronicSample> {
-    public GenericTrainingLoadChronicSampleProvider(final GBDevice device, final DaoSession session) {
-        super(device, session);
-    }
-
-    @NonNull
-    @Override
-    public AbstractDao<GenericTrainingLoadChronicSample, ?> getSampleDao() {
-        return getSession().getGenericTrainingLoadChronicSampleDao();
-    }
-
-    @NonNull
-    @Override
-    protected Property getTimestampSampleProperty() {
-        return GenericTrainingLoadChronicSampleDao.Properties.Timestamp;
-    }
-
-    @NonNull
-    @Override
-    protected Property getDeviceIdentifierSampleProperty() {
-        return GenericTrainingLoadChronicSampleDao.Properties.DeviceId;
-    }
-
-    @Override
-    public GenericTrainingLoadChronicSample createSample() {
-        return new GenericTrainingLoadChronicSample();
-    }
-}
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericWeightSampleProvider.kt b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericWeightSampleProvider.kt
deleted file mode 100644
index 843cd13540..0000000000
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GenericWeightSampleProvider.kt
+++ /dev/null
@@ -1,43 +0,0 @@
-/*  Copyright (C) 2025 Thomas Kuehne
-
-    This file is part of Gadgetbridge.
-
-    Gadgetbridge is free software: you can redistribute it and/or modify
-    it under the terms of the GNU Affero General Public License as published
-    by the Free Software Foundation, either version 3 of the License, or
-    (at your option) any later version.
-
-    Gadgetbridge is distributed in the hope that it will be useful,
-    but WITHOUT ANY WARRANTY; without even the implied warranty of
-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-    GNU Affero General Public License for more details.
-
-    You should have received a copy of the GNU Affero General Public License
-    along with this program.  If not, see <https://www.gnu.org/licenses/>. */
-package nodomain.freeyourgadget.gadgetbridge.devices
-
-import de.greenrobot.dao.AbstractDao
-import de.greenrobot.dao.Property
-import nodomain.freeyourgadget.gadgetbridge.entities.DaoSession
-import nodomain.freeyourgadget.gadgetbridge.entities.GenericWeightSample
-import nodomain.freeyourgadget.gadgetbridge.entities.GenericWeightSampleDao
-import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice
-
-class GenericWeightSampleProvider(device: GBDevice?, session: DaoSession?) :
-    AbstractTimeSampleProvider<GenericWeightSample?>(device, session) {
-    override fun getSampleDao(): AbstractDao<GenericWeightSample?, *> {
-        return session.genericWeightSampleDao
-    }
-
-    override fun getTimestampSampleProperty(): Property {
-        return GenericWeightSampleDao.Properties.Timestamp
-    }
-
-    override fun getDeviceIdentifierSampleProperty(): Property {
-        return GenericWeightSampleDao.Properties.DeviceId
-    }
-
-    override fun createSample(): GenericWeightSample {
-        return GenericWeightSample()
-    }
-}
\ No newline at end of file
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GlucoseSampleProvider.kt b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GlucoseSampleProvider.kt
deleted file mode 100644
index 5d5e06359e..0000000000
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/GlucoseSampleProvider.kt
+++ /dev/null
@@ -1,45 +0,0 @@
-/*  Copyright (C) 2026 José Rebelo
-
-    This file is part of Gadgetbridge.
-
-    Gadgetbridge is free software: you can redistribute it and/or modify
-    it under the terms of the GNU Affero General Public License as published
-    by the Free Software Foundation, either version 3 of the License, or
-    (at your option) any later version.
-
-    Gadgetbridge is distributed in the hope that it will be useful,
-    but WITHOUT ANY WARRANTY; without even the implied warranty of
-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-    GNU Affero General Public License for more details.
-
-    You should have received a copy of the GNU Affero General Public License
-    along with this program.  If not, see <https://www.gnu.org/licenses/>. */
-package nodomain.freeyourgadget.gadgetbridge.devices
-
-import de.greenrobot.dao.AbstractDao
-import de.greenrobot.dao.Property
-import nodomain.freeyourgadget.gadgetbridge.entities.DaoSession
-import nodomain.freeyourgadget.gadgetbridge.entities.GlucoseSample
-import nodomain.freeyourgadget.gadgetbridge.entities.GlucoseSampleDao
-import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice
-
-class GlucoseSampleProvider(
-    device: GBDevice,
-    session: DaoSession
-) : AbstractTimeSampleProvider<GlucoseSample?>(device, session) {
-    override fun getSampleDao(): AbstractDao<GlucoseSample?, *> {
-        return session.glucoseSampleDao
-    }
-
-    override fun getTimestampSampleProperty(): Property {
-        return GlucoseSampleDao.Properties.Timestamp
-    }
-
-    override fun getDeviceIdentifierSampleProperty(): Property {
-        return GlucoseSampleDao.Properties.DeviceId
-    }
-
-    override fun createSample(): GlucoseSample {
-        return GlucoseSample()
-    }
-}
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/HeartPulseSampleProvider.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/HeartPulseSampleProvider.java
deleted file mode 100644
index 33b27c24bc..0000000000
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/HeartPulseSampleProvider.java
+++ /dev/null
@@ -1,55 +0,0 @@
-/*  Copyright (C) 2024 José Rebelo
-
-    This file is part of Gadgetbridge.
-
-    Gadgetbridge is free software: you can redistribute it and/or modify
-    it under the terms of the GNU Affero General Public License as published
-    by the Free Software Foundation, either version 3 of the License, or
-    (at your option) any later version.
-
-    Gadgetbridge is distributed in the hope that it will be useful,
-    but WITHOUT ANY WARRANTY; without even the implied warranty of
-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-    GNU Affero General Public License for more details.
-
-    You should have received a copy of the GNU Affero General Public License
-    along with this program.  If not, see <https://www.gnu.org/licenses/>. */
-package nodomain.freeyourgadget.gadgetbridge.devices;
-
-import androidx.annotation.NonNull;
-
-import de.greenrobot.dao.AbstractDao;
-import de.greenrobot.dao.Property;
-import nodomain.freeyourgadget.gadgetbridge.entities.HeartPulseSample;
-import nodomain.freeyourgadget.gadgetbridge.entities.HeartPulseSampleDao;
-import nodomain.freeyourgadget.gadgetbridge.entities.DaoSession;
-import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;
-
-public class HeartPulseSampleProvider extends AbstractTimeSampleProvider<HeartPulseSample> {
-    public HeartPulseSampleProvider(final GBDevice device, final DaoSession session) {
-        super(device, session);
-    }
-
-    @NonNull
-    @Override
-    public AbstractDao<HeartPulseSample, ?> getSampleDao() {
-        return getSession().getHeartPulseSampleDao();
-    }
-
-    @NonNull
-    @Override
-    protected Property getTimestampSampleProperty() {
-        return HeartPulseSampleDao.Properties.Timestamp;
-    }
-
-    @NonNull
-    @Override
-    protected Property getDeviceIdentifierSampleProperty() {
-        return HeartPulseSampleDao.Properties.DeviceId;
-    }
-
-    @Override
-    public HeartPulseSample createSample() {
-        return new HeartPulseSample();
-    }
-}
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/HeartRrIntervalSampleProvider.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/HeartRrIntervalSampleProvider.java
deleted file mode 100644
index c3730a6f59..0000000000
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/HeartRrIntervalSampleProvider.java
+++ /dev/null
@@ -1,56 +0,0 @@
-/*  Copyright (C) 2025  Thomas Kuehne
-
-    This file is part of Gadgetbridge.
-
-    Gadgetbridge is free software: you can redistribute it and/or modify
-    it under the terms of the GNU Affero General Public License as published
-    by the Free Software Foundation, either version 3 of the License, or
-    (at your option) any later version.
-
-    Gadgetbridge is distributed in the hope that it will be useful,
-    but WITHOUT ANY WARRANTY; without even the implied warranty of
-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-    GNU Affero General Public License for more details.
-
-    You should have received a copy of the GNU Affero General Public License
-    along with this program.  If not, see <https://www.gnu.org/licenses/>. */
-
-package nodomain.freeyourgadget.gadgetbridge.devices;
-
-import androidx.annotation.NonNull;
-
-import de.greenrobot.dao.AbstractDao;
-import de.greenrobot.dao.Property;
-import nodomain.freeyourgadget.gadgetbridge.entities.DaoSession;
-import nodomain.freeyourgadget.gadgetbridge.entities.HeartRrIntervalSample;
-import nodomain.freeyourgadget.gadgetbridge.entities.HeartRrIntervalSampleDao;
-import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;
-
-public class HeartRrIntervalSampleProvider extends AbstractTimeSampleProvider<HeartRrIntervalSample> {
-    public HeartRrIntervalSampleProvider(final GBDevice device, final DaoSession session) {
-        super(device, session);
-    }
-
-    @NonNull
-    @Override
-    public AbstractDao<HeartRrIntervalSample, ?> getSampleDao() {
-        return getSession().getHeartRrIntervalSampleDao();
-    }
-
-    @NonNull
-    @Override
-    protected Property getTimestampSampleProperty() {
-        return HeartRrIntervalSampleDao.Properties.Timestamp;
-    }
-
-    @NonNull
-    @Override
-    protected Property getDeviceIdentifierSampleProperty() {
-        return HeartRrIntervalSampleDao.Properties.DeviceId;
-    }
-
-    @Override
-    public HeartRrIntervalSample createSample() {
-        return new HeartRrIntervalSample();
-    }
-}
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/generic_scale/GenericWeightScaleCoordinator.kt b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/generic_scale/GenericWeightScaleCoordinator.kt
index d45976d633..87a9514496 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/generic_scale/GenericWeightScaleCoordinator.kt
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/generic_scale/GenericWeightScaleCoordinator.kt
@@ -54,8 +54,8 @@ class GenericWeightScaleCoordinator : AbstractBLEDeviceCoordinator() {
     }
 
     override fun getWeightSampleProvider(
-        device: GBDevice?, session: DaoSession?
-    ): TimeSampleProvider<out WeightSample?>? {
+        device: GBDevice, session: DaoSession
+    ): TimeSampleProvider<out WeightSample?> {
         return GenericWeightSampleProvider(device, session)
     }
 
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/generic_scale/GenericWeightScaleMeasurementActivity.kt b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/generic_scale/GenericWeightScaleMeasurementActivity.kt
index 6eee36c33a..67b91f492a 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/generic_scale/GenericWeightScaleMeasurementActivity.kt
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/generic_scale/GenericWeightScaleMeasurementActivity.kt
@@ -45,7 +45,7 @@ class GenericWeightScaleMeasurementActivity : AbstractGBActivity() {
     private val weightUpdatedReceiver: WeightUpdatedReceiver = WeightUpdatedReceiver()
     private var actual: TextView? = null
     private var save: Button? = null
-    private var device: GBDevice? = null
+    private lateinit var device: GBDevice
     private var unit: String? = null
 
     private var measurement: WeightScaleMeasurement? = null
@@ -57,7 +57,7 @@ class GenericWeightScaleMeasurementActivity : AbstractGBActivity() {
             ?: throw IllegalArgumentException(WeightScaleProfile.EXTRA_ADDRESS + " must not be null")
 
         val manager = GBApplication.app().deviceManager
-        device = manager.getDeviceByAddress(address)
+        device = manager.getDeviceByAddress(address)!!
 
         val settings = GBApplication.getDevicePrefs(device)
         unit = settings.getString(DeviceSettingsPreferenceConst.PREF_WEIGHT_SCALE_UNIT, null)
```
-----------------------------------
