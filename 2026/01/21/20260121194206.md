# Commit: e7ae74bf92a2ebe96aaf16ff2a309e2deb89f9b5
## Message: Zepp OS: Allow missing lon/lat in weather v5
## Changed files:
app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huami/zeppos/services/http/ZeppOsWeatherHandlerV5.kt

## Diff:
```
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huami/zeppos/services/http/ZeppOsWeatherHandlerV5.kt b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huami/zeppos/services/http/ZeppOsWeatherHandlerV5.kt
index 4159109e7c..03dae62811 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huami/zeppos/services/http/ZeppOsWeatherHandlerV5.kt
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huami/zeppos/services/http/ZeppOsWeatherHandlerV5.kt
@@ -36,17 +36,14 @@ object ZeppOsWeatherHandlerV5 {
         }
 
         // /weather/v5/<LOCALE>/<LONGITUDE>/<LATITUDE>/
-        if (!Regex("^/weather/v5/[^/]+/[^/]+/[^/]+/?$").matches(path)) {
+        if (!Regex("^/weather/v5/[^/]+/[^/]*/[^/]*/?$").matches(path)) {
             LOG.error("Unknown path: {}", path)
             return null
         }
 
         val pathParts = path.trim('/').split("/")
-        val locale = pathParts[2]
-        val longitude = pathParts[3]
-        val latitude = pathParts[4]
 
-        LOG.debug("Weather request: locale={}, lon={}, lat={}", locale, longitude, latitude)
+        LOG.debug("Weather request: {}", pathParts)
 
         val datasetsParam = query["datasets"]
         if (datasetsParam.isNullOrBlank()) {
```
-----------------------------------
