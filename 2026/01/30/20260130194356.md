# Commit: fd22f674f7e25301178ec7e74371a67f911041a5
## Message: Display device alias hints on file manager
## Changed files:
app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/files/FileManagerActivity.java

app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/files/FileManagerAdapter.java

## Diff:
```
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/files/FileManagerActivity.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/files/FileManagerActivity.java
index fb29b8dfe1..a1bc448cff 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/files/FileManagerActivity.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/files/FileManagerActivity.java
@@ -36,9 +36,14 @@ import org.slf4j.LoggerFactory;
 
 import java.io.File;
 import java.io.IOException;
+import java.util.Collections;
+import java.util.Map;
+import java.util.stream.Collectors;
 
+import nodomain.freeyourgadget.gadgetbridge.GBApplication;
 import nodomain.freeyourgadget.gadgetbridge.R;
 import nodomain.freeyourgadget.gadgetbridge.activities.AbstractGBActivity;
+import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;
 import nodomain.freeyourgadget.gadgetbridge.util.FileUtils;
 import nodomain.freeyourgadget.gadgetbridge.util.GB;
 
@@ -59,8 +64,10 @@ public class FileManagerActivity extends AbstractGBActivity implements MenuProvi
         fileListView.setLayoutManager(new LinearLayoutManager(this));
 
         final File directory;
+        final Map<String, String> deviceNames;
         if (getIntent().hasExtra(EXTRA_PATH)) {
             directory = new File(getIntent().getStringExtra(EXTRA_PATH));
+            deviceNames = Collections.emptyMap();
         } else {
             try {
                 directory = FileUtils.getExternalFilesDir();
@@ -70,6 +77,9 @@ public class FileManagerActivity extends AbstractGBActivity implements MenuProvi
                 finish();
                 return;
             }
+
+            deviceNames = GBApplication.app().getDeviceManager().getDevices().stream()
+                    .collect(Collectors.toMap(GBDevice::getAddress, GBDevice::getAliasOrName));
         }
 
         if (!directory.isDirectory()) {
@@ -83,7 +93,7 @@ public class FileManagerActivity extends AbstractGBActivity implements MenuProvi
             actionBar.setTitle(directory.getName());
         }
 
-        final FileManagerAdapter appListAdapter = new FileManagerAdapter(this, directory);
+        final FileManagerAdapter appListAdapter = new FileManagerAdapter(this, directory, deviceNames);
 
         fileListView.setAdapter(appListAdapter);
 
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/files/FileManagerAdapter.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/files/FileManagerAdapter.java
index 346afb8421..ed02d930f2 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/files/FileManagerAdapter.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/files/FileManagerAdapter.java
@@ -31,6 +31,7 @@ import androidx.annotation.NonNull;
 import androidx.appcompat.content.res.AppCompatResources;
 import androidx.recyclerview.widget.RecyclerView;
 
+import org.apache.commons.lang3.StringUtils;
 import org.slf4j.Logger;
 import org.slf4j.LoggerFactory;
 
@@ -41,6 +42,7 @@ import java.util.ArrayList;
 import java.util.Arrays;
 import java.util.List;
 import java.util.Locale;
+import java.util.Map;
 
 import nodomain.freeyourgadget.gadgetbridge.R;
 import nodomain.freeyourgadget.gadgetbridge.activities.fit.FitViewerActivity;
@@ -52,11 +54,13 @@ public class FileManagerAdapter extends RecyclerView.Adapter<FileManagerAdapter.
 
     private final List<File> fileList;
     private final Context mContext;
+    private final Map<String, String> mDeviceNames;
 
     private final FileFilter fileFilter;
 
-    public FileManagerAdapter(final Context context, final File directory) {
+    public FileManagerAdapter(final Context context, final File directory, final Map<String, String> deviceNames) {
         mContext = context;
+        mDeviceNames = deviceNames;
 
         // FIXME: This can be slow, make it async
         fileList = new ArrayList<>(Arrays.asList(directory.listFiles()));
@@ -86,7 +90,13 @@ public class FileManagerAdapter extends RecyclerView.Adapter<FileManagerAdapter.
         holder.name.setText(file.getName());
         if (file.isDirectory()) {
             holder.icon.setImageDrawable(AppCompatResources.getDrawable(mContext, R.drawable.ic_folder));
-            holder.description.setVisibility(View.GONE);
+            final String deviceName = mDeviceNames.get(file.getName());
+            if (StringUtils.isNotBlank(deviceName)) {
+                holder.description.setVisibility(View.VISIBLE);
+                holder.description.setText(deviceName);
+            } else {
+                holder.description.setVisibility(View.GONE);
+            }
             holder.menu.setVisibility(View.GONE);
         } else {
             holder.icon.setImageDrawable(AppCompatResources.getDrawable(mContext, R.drawable.ic_file_open));
```
-----------------------------------
