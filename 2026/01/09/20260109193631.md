# Commit: 507d9c9c5638157dc87c43f49453ef9d1126bbeb
## Message: Garmin: Fix crash when communicator is null
## Changed files:
app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/garmin/GarminSupport.java

## Diff:
```
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/garmin/GarminSupport.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/garmin/GarminSupport.java
index 505e6cc610..5271ec8250 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/garmin/GarminSupport.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/garmin/GarminSupport.java
@@ -196,6 +196,11 @@ public class GarminSupport extends AbstractBTLESingleDeviceSupport implements IC
         synchronized (ConnectionMonitor) {
             LOG.info("Garmin dispose()");
             GBLocationService.stop(getContext(), getDevice());
+            try {
+                LocalBroadcastManager.getInstance(GBApplication.getContext()).unregisterReceiver(broadcastReceiver);
+            } catch (final Exception e) {
+                LOG.error("Failed to unregister broadcast receiver", e);
+            }
             super.dispose();
         }
     }
@@ -628,6 +633,10 @@ public class GarminSupport extends AbstractBTLESingleDeviceSupport implements IC
             return;
         if (message.getOutgoingMessage() != null)
             LOG.debug("OUTGOING message {}: {}", message, GB.hexdump(message.getOutgoingMessage()));
+        if (communicator == null) {
+            LOG.error("communicator is null");
+            return;
+        }
         communicator.sendMessage(taskName, message.getOutgoingMessage());
     }
 
```
-----------------------------------
