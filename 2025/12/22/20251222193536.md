# Commit: 8754cc90cd70a80dd74e00ffdec236a368e868d5
## Message: Charts: Adjust SpO2 chart colors
## Changed files:
app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/charts/Spo2PeriodFragment.java

app/src/main/res/values/attrs.xml

app/src/main/res/values/colors.xml

app/src/main/res/values/styles.xml

## Diff:
```
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/charts/Spo2PeriodFragment.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/charts/Spo2PeriodFragment.java
index bc191721df..94e73f534c 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/charts/Spo2PeriodFragment.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/charts/Spo2PeriodFragment.java
@@ -18,6 +18,7 @@ package nodomain.freeyourgadget.gadgetbridge.activities.charts;
 
 import android.graphics.Paint;
 import android.os.Bundle;
+import android.util.TypedValue;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
@@ -101,11 +102,13 @@ public class Spo2PeriodFragment extends AbstractChartFragment<Spo2PeriodFragment
 
     @Override
     protected void init() {
+        TypedValue runningColor = new TypedValue();
         BACKGROUND_COLOR = GBApplication.getBackgroundColor(requireContext());
         LEGEND_TEXT_COLOR = GBApplication.getTextColor(requireContext());
         CHART_TEXT_COLOR = GBApplication.getSecondaryTextColor(requireContext());
-        SPO2_COLOR = ContextCompat.getColor(getContext(), R.color.spo2_color);
-        SPO2_AVG_COLOR = ContextCompat.getColor(getContext(), R.color.spo2_avg_color);
+        SPO2_COLOR = ContextCompat.getColor(requireContext(), R.color.spo2_color);
+        requireContext().getTheme().resolveAttribute(R.attr.spo2_avg_color, runningColor, true);
+        SPO2_AVG_COLOR = runningColor.data;
     }
 
     @Override
diff --git a/app/src/main/res/values/attrs.xml b/app/src/main/res/values/attrs.xml
index 42353a39fa..91e032716e 100644
--- a/app/src/main/res/values/attrs.xml
+++ b/app/src/main/res/values/attrs.xml
@@ -15,6 +15,7 @@
     <attr name="chart_awake_sleep" format="color" />
     <attr name="chart_activity" format="color" />
     <attr name="chart_not_worn" format="color" />
+    <attr name="spo2_avg_color" format="color" />
     <attr name="training_acute_load" format="color" />
     <attr name="alternate_row_background" format="color" />
 
diff --git a/app/src/main/res/values/colors.xml b/app/src/main/res/values/colors.xml
index 1d24dcadb6..31fe46b350 100644
--- a/app/src/main/res/values/colors.xml
+++ b/app/src/main/res/values/colors.xml
@@ -76,8 +76,9 @@
     <color name="calories_color" type="color">#fa4502</color>
     <color name="calories_resting_color" type="color">#1f49f2</color>
     <color name="respiratory_rate_color" type="color">#163ede</color>
-    <color name="spo2_color" type="color">#80D8FF</color>
-    <color name="spo2_avg_color" type="color">#d93832</color>
+    <color name="spo2_color" type="color">#aad93832</color>
+    <color name="spo2_avg_color_light" type="color">#630b0d</color>
+    <color name="spo2_avg_color_dark" type="color">#ff9393</color>
 
     <color name="value_line_color" type="color">#858585</color>
     <color name="row_separator_light" type="color">#ffe2e2e5</color>
diff --git a/app/src/main/res/values/styles.xml b/app/src/main/res/values/styles.xml
index 6cf1445467..6a8430299f 100644
--- a/app/src/main/res/values/styles.xml
+++ b/app/src/main/res/values/styles.xml
@@ -30,6 +30,7 @@
         <item name="chart_awake_sleep">@color/chart_awake_sleep_light</item>
         <item name="chart_activity">@color/chart_activity_light</item>
         <item name="chart_not_worn">@color/chart_not_worn_light</item>
+        <item name="spo2_avg_color">@color/spo2_avg_color_light</item>
         <item name="training_acute_load">@color/training_load</item>
         <item name="alternate_row_background">@color/alternate_row_background_light</item>
         <item name="row_separator">@color/row_separator_light</item>
@@ -75,6 +76,7 @@
         <item name="chart_awake_sleep">@color/chart_awake_sleep_dark</item>
         <item name="chart_activity">@color/chart_activity_dark</item>
         <item name="chart_not_worn">@color/chart_not_worn_dark</item>
+        <item name="spo2_avg_color">@color/spo2_avg_color_dark</item>
         <item name="training_acute_load">@color/training_load_dark</item>
         <item name="alternate_row_background">@color/alternate_row_background_dark</item>
         <item name="row_separator">@color/row_separator_dark</item>
@@ -117,6 +119,7 @@
         <item name="deviceIconOnPrimary">?attr/colorOnPrimary</item>
         <item name="deviceIconLight">?attr/colorPrimaryVariant</item>
         <item name="deviceIconDark">?attr/colorPrimaryDark</item>
+        <item name="spo2_avg_color">@color/spo2_avg_color_light</item>
     </style>
     <style name="GadgetbridgeThemeDynamicDark" parent="Theme.Material3.DynamicColors.Dark">
         <item name="textColorPrimary">@color/primarytext_dark</item>
@@ -138,6 +141,7 @@
         <item name="deviceIconOnPrimary">?attr/colorOnPrimary</item>
         <item name="deviceIconLight">?attr/colorPrimaryVariant</item>
         <item name="deviceIconDark">?attr/colorPrimaryDark</item>
+        <item name="spo2_avg_color">@color/spo2_avg_color_dark</item>
     </style>
     <style name="GadgetbridgeThemeDynamicDarkAmoled" parent="GadgetbridgeThemeDynamicDark">
         <item name="android:windowBackground">@android:color/black</item>
```
-----------------------------------
