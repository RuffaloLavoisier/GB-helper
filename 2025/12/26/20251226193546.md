# Commit: 8f866a4773708cf51bca3c4987b244a40e30e41e
## Message: Zendure SolarFlow: show off-grid AC power as Power Output 2 in status activity (Output 1 is to grid)
## Changed files:
app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/zendure/SolarFlowDeviceCoordinator.java

app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/zendure/SolarFlowDeviceSupport.java

## Diff:
```
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/zendure/SolarFlowDeviceCoordinator.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/zendure/SolarFlowDeviceCoordinator.java
index 4d2ae31976..248c17cc05 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/zendure/SolarFlowDeviceCoordinator.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/zendure/SolarFlowDeviceCoordinator.java
@@ -30,6 +30,7 @@ import java.util.regex.Pattern;
 
 import nodomain.freeyourgadget.gadgetbridge.R;
 import nodomain.freeyourgadget.gadgetbridge.devices.AbstractBLEDeviceCoordinator;
+
 import nodomain.freeyourgadget.gadgetbridge.devices.SolarEquipmentStatusActivity;
 import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;
 import nodomain.freeyourgadget.gadgetbridge.service.DeviceSupport;
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/zendure/SolarFlowDeviceSupport.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/zendure/SolarFlowDeviceSupport.java
index 4eaa7ec932..c3e3b79690 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/zendure/SolarFlowDeviceSupport.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/zendure/SolarFlowDeviceSupport.java
@@ -55,6 +55,7 @@ public class SolarFlowDeviceSupport extends AbstractBTLESingleDeviceSupport {
     private int solarPower2 = -1;
     private int solarPower3 = -1;
     private int solarPower4 = -1;
+    private int gridOffPower = -1;
     private int outputHomePower = -1;
     private int batteryTemp;
     private int hyperTmp;
@@ -62,6 +63,7 @@ public class SolarFlowDeviceSupport extends AbstractBTLESingleDeviceSupport {
     private String deviceId;
     private int firmwareVersion = -1;
 
+
     public SolarFlowDeviceSupport() {
         super(LOG);
         addSupportedService(UUID_SERVICE_MAIN);
@@ -201,6 +203,9 @@ public class SolarFlowDeviceSupport extends AbstractBTLESingleDeviceSupport {
             if (properties.has("solarPower4")) {
                 solarPower4 = properties.getInt("solarPower4");
             }
+            if (properties.has("gridOffPower")) {
+                gridOffPower = properties.getInt("gridOffPower");
+            }
             if (properties.has("hyperTmp")) {
                 hyperTmp = (properties.getInt("hyperTmp") - 2731) / 10;
             }
@@ -260,7 +265,7 @@ public class SolarFlowDeviceSupport extends AbstractBTLESingleDeviceSupport {
                 .putExtra(SolarEquipmentStatusActivity.EXTRA_TEMP1, hyperTmp)
                 .putExtra(SolarEquipmentStatusActivity.EXTRA_TEMP2, batteryTemp)
                 .putExtra(SolarEquipmentStatusActivity.EXTRA_OUTPUT1_WATT, outputHomePower)
-                .putExtra(SolarEquipmentStatusActivity.EXTRA_OUTPUT2_WATT, -1)
+                .putExtra(SolarEquipmentStatusActivity.EXTRA_OUTPUT2_WATT, gridOffPower)
                 .putExtra(SolarEquipmentStatusActivity.EXTRA_PANEL1_WATT, solarPower1)
                 .putExtra(SolarEquipmentStatusActivity.EXTRA_PANEL2_WATT, solarPower2)
                 .putExtra(SolarEquipmentStatusActivity.EXTRA_PANEL3_WATT, solarPower3)
```
-----------------------------------
