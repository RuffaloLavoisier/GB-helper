# Commit: f87070498308672f4b412c1fe2e568d114b057f1
## Message: Huawei: round speed and uvIndex values
## Changed files:
app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/huawei/packets/Weather.java

app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huawei/requests/SendWeatherCurrentRequest.java

app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huawei/requests/SendWeatherForecastRequest.java

## Diff:
```
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/huawei/packets/Weather.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/huawei/packets/Weather.java
index d7a741e028..9fd22dc1f5 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/huawei/packets/Weather.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/huawei/packets/Weather.java
@@ -344,7 +344,7 @@ public class Weather {
             if (sourceName != null && settings.sourceSupported)
                 this.tlv.put(0x0e, sourceName);
             if (uvIndex != null && settings.uvIndexSupported)
-                this.tlv.put(0x0f, uvIndex.byteValue());
+                this.tlv.put(0x0f, (byte)Math.round(uvIndex));
 
             if(settings.extendedHourlyForecast) {
                 if(humidity != null)
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huawei/requests/SendWeatherCurrentRequest.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huawei/requests/SendWeatherCurrentRequest.java
index 915317e41e..f589cddf38 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huawei/requests/SendWeatherCurrentRequest.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huawei/requests/SendWeatherCurrentRequest.java
@@ -68,7 +68,7 @@ public class SendWeatherCurrentRequest extends Request {
                     weatherSpec.getUvIndex(),
                     "Gadgetbridge",
                     (byte) weatherSpec.getCurrentHumidity(),
-                    (int) weatherSpec.getWindSpeed(),
+                    Math.round(weatherSpec.getWindSpeed()),
                     (weatherSpec.getFeelsLikeTemp() - 273)
                 ).serialize();
         } catch (HuaweiPacket.CryptoException e) {
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huawei/requests/SendWeatherForecastRequest.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huawei/requests/SendWeatherForecastRequest.java
index e96b2c4339..88b4d7fe28 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huawei/requests/SendWeatherForecastRequest.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huawei/requests/SendWeatherForecastRequest.java
@@ -51,7 +51,7 @@ public class SendWeatherForecastRequest extends Request {
             timeData.icon = supportProvider.openWeatherMapConditionCodeToHuaweiIcon(hourly.getConditionCode());
             timeData.temperature = (byte) (hourly.getTemp() - 273);
             timeData.precipitation = (byte) hourly.getPrecipProbability();
-            timeData.uvIndex = (byte) hourly.getUvIndex();
+            timeData.uvIndex = (byte) Math.round(hourly.getUvIndex());
             timeDataArrayList.add(timeData);
         }
 
```
-----------------------------------
