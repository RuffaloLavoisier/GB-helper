# Commit: 85b982a1a37e2c6bd35df49bdd382e22e9503a9e
## Message: Sleep score chart: prevent duplicated legends items
## Changed files:
app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/charts/SleepPeriodFragment.java

## Diff:
```
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/charts/SleepPeriodFragment.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/charts/SleepPeriodFragment.java
index 4b73252952..814f2592dc 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/charts/SleepPeriodFragment.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/charts/SleepPeriodFragment.java
@@ -154,6 +154,7 @@ public class SleepPeriodFragment extends SleepFragment<SleepPeriodFragment.MyCha
             binding.sleepScoreWrapper.setVisibility(View.GONE);
         } else {
             setupSleepScoreChart();
+            setupSleepScoreLegend();
         }
 
         setupWeekChart();
@@ -438,6 +439,18 @@ public class SleepPeriodFragment extends SleepFragment<SleepPeriodFragment.MyCha
         }
     }
 
+    protected void setupSleepScoreLegend() {
+        List<LegendEntry> legendEntries = new ArrayList<>(1);
+        LegendEntry sleepScoreValue = new LegendEntry();
+        sleepScoreValue.label = getString(R.string.sleep_score);
+        sleepScoreValue.formColor = getResources().getColor(R.color.chart_light_sleep_light);
+        legendEntries.add(sleepScoreValue);
+        binding.sleepScoreChart.getLegend().setCustom(legendEntries);
+        binding.sleepScoreChart.getLegend().setTextColor(LEGEND_TEXT_COLOR);
+        binding.sleepScoreChart.getLegend().setWordWrapEnabled(true);
+        binding.sleepScoreChart.getLegend().setHorizontalAlignment(Legend.LegendHorizontalAlignment.CENTER);
+    }
+
     @Override
     protected void renderCharts() {
         binding.weekSleepChart.invalidate();
```
-----------------------------------
