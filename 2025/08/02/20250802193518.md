# Commit: 4997c9a901eb13999788d57df7f49ef1e0af2b5b
## Message: Amazfit Active 2: Default to BTBR

Reports show it is stable, and allows for much faster transfer speeds.
## Changed files:
app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/huami/zeppos/ZeppOsCoordinator.java

app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/huami/zeppos/watches/AmazfitActive2RoundCoordinator.java

app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/huami/zeppos/watches/AmazfitActive2SquareCoordinator.java

app/src/main/java/nodomain/freeyourgadget/gadgetbridge/externalevents/IntentApiReceiver.java

## Diff:
```
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/huami/zeppos/ZeppOsCoordinator.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/huami/zeppos/ZeppOsCoordinator.java
index 8121301608..d8ef8ae5e9 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/huami/zeppos/ZeppOsCoordinator.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/huami/zeppos/ZeppOsCoordinator.java
@@ -123,14 +123,10 @@ public abstract class ZeppOsCoordinator extends HuamiCoordinator {
             connType = getConnectionType();
         }
 
-        switch (connType) {
-            case BOTH:
-            case BT_CLASSIC:
-                return ZeppOsBtbrSupport.class;
-            case BLE:
-            default:
-                return ZeppOsBtleSupport.class;
-        }
+        return switch (connType) {
+            case BOTH, BT_CLASSIC -> ZeppOsBtbrSupport.class;
+            default -> ZeppOsBtleSupport.class;
+        };
     }
 
     @Override
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/huami/zeppos/watches/AmazfitActive2RoundCoordinator.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/huami/zeppos/watches/AmazfitActive2RoundCoordinator.java
index da6de5da9c..5601683f85 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/huami/zeppos/watches/AmazfitActive2RoundCoordinator.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/huami/zeppos/watches/AmazfitActive2RoundCoordinator.java
@@ -33,6 +33,11 @@ public class AmazfitActive2RoundCoordinator extends ZeppOsCoordinator {
         );
     }
 
+    @Override
+    public ConnectionType getConnectionType() {
+        return ConnectionType.BOTH;
+    }
+
     @Override
     public Set<Integer> getDeviceSources() {
         return new HashSet<>(Arrays.asList(
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/huami/zeppos/watches/AmazfitActive2SquareCoordinator.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/huami/zeppos/watches/AmazfitActive2SquareCoordinator.java
index 638b64a95d..5f69224ef9 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/huami/zeppos/watches/AmazfitActive2SquareCoordinator.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/devices/huami/zeppos/watches/AmazfitActive2SquareCoordinator.java
@@ -17,7 +17,6 @@
 package nodomain.freeyourgadget.gadgetbridge.devices.huami.zeppos.watches;
 
 import java.util.Arrays;
-import java.util.Collections;
 import java.util.HashSet;
 import java.util.List;
 import java.util.Set;
@@ -33,6 +32,11 @@ public class AmazfitActive2SquareCoordinator extends ZeppOsCoordinator {
         return true;
     }
 
+    @Override
+    public ConnectionType getConnectionType() {
+        return ConnectionType.BOTH;
+    }
+
     @Override
     public List<String> getDeviceBluetoothNames() {
         return Arrays.asList(
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/externalevents/IntentApiReceiver.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/externalevents/IntentApiReceiver.java
index 4eb63addba..c651ceb397 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/externalevents/IntentApiReceiver.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/externalevents/IntentApiReceiver.java
@@ -207,6 +207,8 @@ public class IntentApiReceiver extends BroadcastReceiver {
                 LOG.info("Triggering Debug Test New Function");
                 GBApplication.deviceService().onTestNewFunction();
                 break;
+            default:
+                LOG.warn("Got unknown intent API action: {}", intent.getAction());
         }
     }
 
```
-----------------------------------
