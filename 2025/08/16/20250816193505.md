# Commit: 2c362412ea80a457a89b69f99d5858204ae2b015
## Message: Garmin: Ignore empty monitor samples
## Changed files:
app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/garmin/fit/FitImporter.java

## Diff:
```
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/garmin/fit/FitImporter.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/garmin/fit/FitImporter.java
index 25101e317a..5d827d505e 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/garmin/fit/FitImporter.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/garmin/fit/FitImporter.java
@@ -617,7 +617,18 @@ public class FitImporter {
                 sample.setActiveCalories(sumCalories);
             }
 
-            activitySamples.add(sample);
+            // Ignore empty samples
+            if (sample.getRawIntensity() != ActivitySample.NOT_MEASURED ||
+                    sample.getSteps() != ActivitySample.NOT_MEASURED ||
+                    sample.getHeartRate() != ActivitySample.NOT_MEASURED ||
+                    sample.getDistanceCm() != ActivitySample.NOT_MEASURED ||
+                    sample.getActiveCalories() != ActivitySample.NOT_MEASURED) {
+                activitySamples.add(sample);
+                prevActivityKind = sample.getRawKind();
+                prevTs = (int) ts;
+            } else {
+                LOG.debug("Ignoring empty sample at {}", sample.getTimestamp());
+            }
 
             if (minutesModerate != 0 || minutesVigorous != 0) {
                 final GarminIntensityMinutesSample intensityMinutesSample = new GarminIntensityMinutesSample();
@@ -626,9 +637,6 @@ public class FitImporter {
                 intensityMinutesSample.setVigorous(minutesVigorous);
                 intensityMinutesSamples.add(intensityMinutesSample);
             }
-
-            prevActivityKind = sample.getRawKind();
-            prevTs = (int) ts;
         }
 
         LOG.debug("Will persist {} activity samples", activitySamples.size());
```
-----------------------------------
