# Commit: a7885bb082eb496e099ba9ffb646bd02626954cf
## Message: Zepp OS: Fix config group parsing on some firmware versions
## Changed files:
app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huami/zeppos/services/ZeppOsConfigService.java

## Diff:
```
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huami/zeppos/services/ZeppOsConfigService.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huami/zeppos/services/ZeppOsConfigService.java
index f37d7af22c..0a82e09a41 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huami/zeppos/services/ZeppOsConfigService.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huami/zeppos/services/ZeppOsConfigService.java
@@ -272,13 +272,17 @@ public class ZeppOsConfigService extends AbstractZeppOsService {
         }
         final int numGroups = payload[2] & 0xFF;
         if (payload.length != numGroups + 3) {
-            LOG.error("Unexpected config capabilities response length {} for {} groups", payload.length, numGroups);
-            return;
+            // Sometimes there are some extra bytes at the end?
+            LOG.warn("Unexpected config capabilities response length {} for {} groups", payload.length, numGroups);
         }
 
         final ZeppOsTransactionBuilder builder = createTransactionBuilder("configs request");
         for (int i = 0; i < numGroups; i++) {
             final ConfigGroup configGroup = ConfigGroup.fromValue(payload[3 + i]);
+            if (configGroup == null) {
+                LOG.warn("Unknown config group {}", String.format("0x%02x", payload[3 + i]));
+                continue;
+            }
             LOG.debug("Got supported config group {}: {}", String.format("0x%02x", payload[3 + i]), configGroup);
             requestConfig(builder, configGroup);
         }
```
-----------------------------------
