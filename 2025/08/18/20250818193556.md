# Commit: 3b5ea9bf7f553671e7de7d23b29b282b06c55784
## Message: weather: try to reduce risk of TransactionTooLargeException
## Changed files:
app/src/main/java/nodomain/freeyourgadget/gadgetbridge/externalevents/GenericWeatherReceiver.java

## Diff:
```
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/externalevents/GenericWeatherReceiver.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/externalevents/GenericWeatherReceiver.java
index 160cd1660d..40b1302518 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/externalevents/GenericWeatherReceiver.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/externalevents/GenericWeatherReceiver.java
@@ -101,6 +101,11 @@ public class GenericWeatherReceiver extends BroadcastReceiver {
             }
 
             LOG.info("Got generic weather for {} locations", weathers.size());
+
+            // try to avoid TransactionTooLargeException in DeviceService
+            bundle.clear();
+            intent.replaceExtras((Bundle)null);
+
             Weather.setWeatherSpec(weathers);
             GBApplication.deviceService().onSendWeather(weathers);
         } catch (final Exception e) {
```
-----------------------------------
