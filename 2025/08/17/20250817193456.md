# Commit: 13a7e8ebb2958a664b5a90ee025bd54afb8b1739
## Message: Sleep fragment: add sleep score details, refactor fragment, improve design
## Changed files:
app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/charts/SleepPeriodFragment.java

app/src/main/res/layout/fragment_weeksleep_chart.xml

## Diff:
```
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/charts/SleepPeriodFragment.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/charts/SleepPeriodFragment.java
index 010e133da6..87abdde491 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/charts/SleepPeriodFragment.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/charts/SleepPeriodFragment.java
@@ -24,12 +24,9 @@ import android.os.Bundle;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
-import android.widget.LinearLayout;
-import android.widget.TextView;
 
 import com.github.mikephil.charting.charts.BarChart;
 import com.github.mikephil.charting.charts.Chart;
-import com.github.mikephil.charting.charts.LineChart;
 import com.github.mikephil.charting.components.Legend;
 import com.github.mikephil.charting.components.LegendEntry;
 import com.github.mikephil.charting.components.LimitLine;
@@ -46,7 +43,7 @@ import com.github.mikephil.charting.formatter.ValueFormatter;
 import com.github.mikephil.charting.interfaces.datasets.ILineDataSet;
 
 import nodomain.freeyourgadget.gadgetbridge.database.DBHandler;
-import nodomain.freeyourgadget.gadgetbridge.devices.TimeSampleProvider;
+import nodomain.freeyourgadget.gadgetbridge.databinding.FragmentWeeksleepChartBinding;
 import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;
 import org.apache.commons.lang3.ArrayUtils;
 import org.slf4j.Logger;
@@ -66,6 +63,7 @@ import nodomain.freeyourgadget.gadgetbridge.model.ActivityKind;
 import nodomain.freeyourgadget.gadgetbridge.model.ActivitySample;
 import nodomain.freeyourgadget.gadgetbridge.model.ActivityUser;
 import nodomain.freeyourgadget.gadgetbridge.model.SleepScoreSample;
+import nodomain.freeyourgadget.gadgetbridge.util.Accumulator;
 import nodomain.freeyourgadget.gadgetbridge.util.DateTimeUtils;
 import nodomain.freeyourgadget.gadgetbridge.util.LimitedQueue;
 
@@ -74,22 +72,12 @@ public class SleepPeriodFragment extends SleepFragment<SleepPeriodFragment.MyCha
 
     protected int TOTAL_DAYS = getRangeDays();
     protected int TOTAL_DAYS_FOR_AVERAGE = 0;
-    private TextView awakeSleepTimeText;
-    private LinearLayout awakeSleepTimeTextWrapper;
-    private TextView remSleepTimeText;
-    private LinearLayout remSleepTimeTextWrapper;
-    private TextView deepSleepTimeText;
-    private TextView lightSleepTimeText;
-    private TextView sleepDatesText;
     private MySleepWeeklyData mySleepWeeklyData;
-    private LinearLayout sleepScoreWrapper;
-    private LineChart sleepScoreChart;
 
-    private TextView mBalanceView;
+    private FragmentWeeksleepChartBinding binding;
     protected Locale mLocale;
     protected int mTargetValue = 0;
 
-    protected BarChart mWeekChart;
     private final int mOffsetHours = getOffsetHours();
 
     protected boolean SHOW_BALANCE;
@@ -144,8 +132,9 @@ public class SleepPeriodFragment extends SleepFragment<SleepPeriodFragment.MyCha
     public View onCreateView(LayoutInflater inflater, ViewGroup container,
                              Bundle savedInstanceState) {
         mLocale = getResources().getConfiguration().locale;
-        View rootView = inflater.inflate(R.layout.fragment_weeksleep_chart, container, false);
+        binding = FragmentWeeksleepChartBinding.inflate(inflater, container, false);
 
+        View rootView = binding.getRoot();
         if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {
             rootView.setOnScrollChangeListener((v, scrollX, scrollY, oldScrollX, oldScrollY) -> {
                 getChartsHost().enableSwipeRefresh(scrollY == 0);
@@ -157,28 +146,15 @@ public class SleepPeriodFragment extends SleepFragment<SleepPeriodFragment.MyCha
             mTargetValue = goal;
         }
 
-        mWeekChart = rootView.findViewById(R.id.weekstepschart);
-        sleepScoreWrapper = rootView.findViewById(R.id.sleep_score_wrapper);
-        sleepScoreChart = rootView.findViewById(R.id.sleep_score_chart);
-        remSleepTimeText = rootView.findViewById(R.id.sleep_chart_legend_rem_time);
-        remSleepTimeTextWrapper = rootView.findViewById(R.id.sleep_chart_legend_rem_time_wrapper);
-        awakeSleepTimeText = rootView.findViewById(R.id.sleep_chart_legend_awake_time);
-        awakeSleepTimeTextWrapper = rootView.findViewById(R.id.sleep_chart_legend_awake_time_wrapper);
-        deepSleepTimeText = rootView.findViewById(R.id.sleep_chart_legend_deep_time);
-        lightSleepTimeText = rootView.findViewById(R.id.sleep_chart_legend_light_time);
-        sleepDatesText = rootView.findViewById(R.id.sleep_dates);
-
-        mBalanceView = rootView.findViewById(R.id.balance);
-
         SHOW_BALANCE = GBApplication.getPrefs().getBoolean("charts_show_balance_sleep", true);
         if (SHOW_BALANCE) {
-            mBalanceView.setVisibility(View.VISIBLE);
+            binding.balance.setVisibility(View.VISIBLE);
         } else {
-            mBalanceView.setVisibility(View.GONE);
+            binding.balance.setVisibility(View.GONE);
         }
 
         if (!supportsSleepScore()) {
-            sleepScoreWrapper.setVisibility(View.GONE);
+            binding.sleepScoreWrapper.setVisibility(View.GONE);
         } else {
             setupSleepScoreChart();
         }
@@ -191,14 +167,15 @@ public class SleepPeriodFragment extends SleepFragment<SleepPeriodFragment.MyCha
     }
 
     protected void setupWeekChart() {
-        mWeekChart.setBackgroundColor(BACKGROUND_COLOR);
-        mWeekChart.getDescription().setTextColor(DESCRIPTION_COLOR);
-        mWeekChart.getDescription().setText("");
-        mWeekChart.setFitBars(true);
+        BarChart weekSleepChart = binding.weekSleepChart;
+        weekSleepChart.setBackgroundColor(BACKGROUND_COLOR);
+        weekSleepChart.getDescription().setTextColor(DESCRIPTION_COLOR);
+        weekSleepChart.getDescription().setText("");
+        weekSleepChart.setFitBars(true);
 
-        configureBarLineChartDefaults(mWeekChart);
+        configureBarLineChartDefaults(weekSleepChart);
 
-        XAxis x = mWeekChart.getXAxis();
+        XAxis x = weekSleepChart.getXAxis();
         x.setDrawLabels(true);
         x.setDrawGridLines(false);
         x.setEnabled(true);
@@ -206,7 +183,7 @@ public class SleepPeriodFragment extends SleepFragment<SleepPeriodFragment.MyCha
         x.setDrawLimitLinesBehindData(true);
         x.setPosition(XAxis.XAxisPosition.BOTTOM);
 
-        YAxis y = mWeekChart.getAxisLeft();
+        YAxis y = weekSleepChart.getAxisLeft();
         y.setDrawGridLines(false);
         y.setDrawTopYLabelEntry(false);
         y.setTextColor(CHART_TEXT_COLOR);
@@ -216,7 +193,7 @@ public class SleepPeriodFragment extends SleepFragment<SleepPeriodFragment.MyCha
         y.setValueFormatter(getYAxisFormatter());
         y.setEnabled(true);
 
-        YAxis yAxisRight = mWeekChart.getAxisRight();
+        YAxis yAxisRight = weekSleepChart.getAxisRight();
         yAxisRight.setDrawGridLines(false);
         yAxisRight.setEnabled(false);
         yAxisRight.setDrawLabels(false);
@@ -224,60 +201,66 @@ public class SleepPeriodFragment extends SleepFragment<SleepPeriodFragment.MyCha
         yAxisRight.setTextColor(CHART_TEXT_COLOR);
 
         if (TOTAL_DAYS > 7) {
-            mWeekChart.setRenderer(new AngledLabelsChartRenderer(mWeekChart, mWeekChart.getAnimator(), mWeekChart.getViewPortHandler()));
+            weekSleepChart.setRenderer(new AngledLabelsChartRenderer(weekSleepChart, weekSleepChart.getAnimator(), weekSleepChart.getViewPortHandler()));
         } else {
-            mWeekChart.setScaleEnabled(false);
-            mWeekChart.setTouchEnabled(false);
+            weekSleepChart.setScaleEnabled(false);
+            weekSleepChart.setTouchEnabled(false);
         }
     }
 
     @Override
     protected void updateChartsnUIThread(MyChartsData mcd) {
-        setupLegend(mWeekChart);
+        BarChart weekSleepChart = binding.weekSleepChart;
+        setupLegend(weekSleepChart);
 
-        mWeekChart.setData(null); // workaround for https://github.com/PhilJay/MPAndroidChart/issues/2317
-        mWeekChart.setData(mcd.getWeekBeforeData().getData());
-        mWeekChart.getXAxis().setValueFormatter(mcd.getWeekBeforeData().getXValueFormatter());
-        mWeekChart.getBarData().setValueTextSize(10f);
+        WeekChartsData<BarData> weekBeforeData = mcd.getWeekBeforeData();
+        weekSleepChart.setData(null); // workaround for https://github.com/PhilJay/MPAndroidChart/issues/2317
+        weekSleepChart.setData(weekBeforeData.getData());
+        weekSleepChart.getXAxis().setValueFormatter(mcd.getWeekBeforeData().getXValueFormatter());
+        weekSleepChart.getBarData().setValueTextSize(10f);
+        weekSleepChart.getBarData().setValueTextColor(LEGEND_TEXT_COLOR);
 
         if (supportsSleepScore()) {
-            sleepScoreChart.setData(null);
-            sleepScoreChart.getXAxis().setValueFormatter(mcd.getWeekBeforeData().getXValueFormatter());
-            sleepScoreChart.getLegend().setTextColor(LEGEND_TEXT_COLOR);
-            sleepScoreChart.setData(mcd.getWeekBeforeData().getSleepScoreData());
+            binding.sleepScoreChart.setData(null);
+            binding.sleepScoreChart.getXAxis().setValueFormatter(weekBeforeData.getXValueFormatter());
+            binding.sleepScoreChart.getLegend().setTextColor(LEGEND_TEXT_COLOR);
+            binding.sleepScoreChart.setData(weekBeforeData.getSleepScoreData());
+            binding.sleepScoreHighest.setText(weekBeforeData.getHighestSleepScore() > 0 ? String.valueOf(weekBeforeData.getHighestSleepScore()) : getString(R.string.stats_empty_value));
+            binding.sleepScoreLowest.setText(weekBeforeData.getLowestSleepScore() > 0 ? String.valueOf(weekBeforeData.getLowestSleepScore()) : getString(R.string.stats_empty_value));
+            binding.sleepScoreAverage.setText(weekBeforeData.getAvgSleepScore() > 0 ? String.valueOf(weekBeforeData.getAvgSleepScore()) : getString(R.string.stats_empty_value));
         }
 
         // The last value is for awake time, which we do not want to include in the "total sleep time"
         final int barIgnoreLast = supportsAwakeSleep(getChartsHost().getDevice()) ? 1 : 0;
-        mWeekChart.getBarData().setValueFormatter(new BarChartStackedTimeValueFormatter(false, "", 0, barIgnoreLast));
+        weekSleepChart.getBarData().setValueFormatter(new BarChartStackedTimeValueFormatter(false, "", 0, barIgnoreLast));
 
         if (TOTAL_DAYS_FOR_AVERAGE > 0) {
             float avgDeep = Math.abs(this.mySleepWeeklyData.getTotalDeep() / TOTAL_DAYS_FOR_AVERAGE);
-            deepSleepTimeText.setText(DateTimeUtils.formatDurationHoursMinutes((int) avgDeep, TimeUnit.MINUTES));
+            binding.sleepChartLegendDeepTime.setText(DateTimeUtils.formatDurationHoursMinutes((int) avgDeep, TimeUnit.MINUTES));
             float avgLight = Math.abs(this.mySleepWeeklyData.getTotalLight() / TOTAL_DAYS_FOR_AVERAGE);
-            lightSleepTimeText.setText(DateTimeUtils.formatDurationHoursMinutes((int) avgLight, TimeUnit.MINUTES));
+            binding.sleepChartLegendLightTime.setText(DateTimeUtils.formatDurationHoursMinutes((int) avgLight, TimeUnit.MINUTES));
             float avgRem = Math.abs(this.mySleepWeeklyData.getTotalRem() / TOTAL_DAYS_FOR_AVERAGE);
-            remSleepTimeText.setText(DateTimeUtils.formatDurationHoursMinutes((int) avgRem, TimeUnit.MINUTES));
+            binding.sleepChartLegendRemTime.setText(DateTimeUtils.formatDurationHoursMinutes((int) avgRem, TimeUnit.MINUTES));
             float avgAwake = Math.abs(this.mySleepWeeklyData.getTotalAwake() / TOTAL_DAYS_FOR_AVERAGE);
-            awakeSleepTimeText.setText(DateTimeUtils.formatDurationHoursMinutes((int) avgAwake, TimeUnit.MINUTES));
+            binding.sleepChartLegendAwakeTime.setText(DateTimeUtils.formatDurationHoursMinutes((int) avgAwake, TimeUnit.MINUTES));
         } else {
-            deepSleepTimeText.setText("-");
-            lightSleepTimeText.setText("-");
-            remSleepTimeText.setText("-");
-            awakeSleepTimeText.setText("-");
+            binding.sleepChartLegendDeepTime.setText("-");
+            binding.sleepChartLegendLightTime.setText("-");
+            binding.sleepChartLegendRemTime.setText("-");
+            binding.sleepChartLegendAwakeTime.setText("-");
         }
 
         if (!supportsRemSleep(getChartsHost().getDevice())) {
-            remSleepTimeTextWrapper.setVisibility(View.GONE);
+            binding.sleepChartLegendRemTimeWrapper.setVisibility(View.GONE);
         }
 
         if (!supportsAwakeSleep(getChartsHost().getDevice())) {
-            awakeSleepTimeTextWrapper.setVisibility(View.GONE);
+            binding.sleepChartLegendAwakeTimeWrapper.setVisibility(View.GONE);
         }
 
-        sleepDatesText.setText(DateTimeUtils.formatDaysUntil(TOTAL_DAYS, getTSEnd()));
+        binding.sleepDates.setText(DateTimeUtils.formatDaysUntil(TOTAL_DAYS, getTSEnd()));
 
-        mBalanceView.setText(mcd.getWeekBeforeData().getBalanceMessage());
+        binding.balance.setText(mcd.getWeekBeforeData().getBalanceMessage());
     }
 
     @Override
@@ -285,7 +268,7 @@ public class SleepPeriodFragment extends SleepFragment<SleepPeriodFragment.MyCha
         Calendar day = Calendar.getInstance();
         day.setTime(chartsHost.getEndDate());
         //NB: we could have omitted the day, but this way we can move things to the past easily
-        WeekChartsData<BarData> weekBeforeData = refreshWeekBeforeData(db, mWeekChart, day, device);
+        WeekChartsData<BarData> weekBeforeData = refreshWeekBeforeData(db, binding.weekSleepChart, day, device);
         mySleepWeeklyData = getMySleepWeeklyData(db, day, device);
 
         return new MyChartsData(weekBeforeData);
@@ -301,6 +284,7 @@ public class SleepPeriodFragment extends SleepFragment<SleepPeriodFragment.MyCha
         long daily_balance = 0;
         TOTAL_DAYS_FOR_AVERAGE=0;
         List<Entry> sleepScoreEntities = new ArrayList<>();
+        final Accumulator sleepScoreAccumulator = new Accumulator();
         final List<ILineDataSet> sleepScoreDataSets = new ArrayList<>();
         for (int counter = 0; counter < TOTAL_DAYS; counter++) {
             // Sleep stages
@@ -316,7 +300,9 @@ public class SleepPeriodFragment extends SleepFragment<SleepPeriodFragment.MyCha
             if (supportsSleepScore()) {
                 List<? extends SleepScoreSample> sleepScoreSamples = getSleepScoreSamples(db, device, day);
                 if (!sleepScoreSamples.isEmpty() && sleepScoreSamples.get(sleepScoreSamples.size() -1).getSleepScore() > 0) {
-                    sleepScoreEntities.add(new Entry(counter, sleepScoreSamples.get(sleepScoreSamples.size() -1).getSleepScore()));
+                    int sleepScore = sleepScoreSamples.get(sleepScoreSamples.size() -1).getSleepScore();
+                    sleepScoreAccumulator.add(sleepScore);
+                    sleepScoreEntities.add(new Entry(counter, sleepScore));
                 } else {
                     if (!sleepScoreEntities.isEmpty()) {
                         List<Entry> clone = new ArrayList<>(sleepScoreEntities.size());
@@ -375,7 +361,15 @@ public class SleepPeriodFragment extends SleepFragment<SleepPeriodFragment.MyCha
         }
 
         if (supportsSleepScore()) {
-            return new WeekChartsData(barData, new PreformattedXIndexLabelFormatter(labels), getBalanceMessage(balance, mTargetValue), sleepScoreLineData);
+            return new WeekChartsData(
+                    barData,
+                    new PreformattedXIndexLabelFormatter(labels),
+                    getBalanceMessage(balance, mTargetValue),
+                    sleepScoreLineData,
+                    (int) Math.round(sleepScoreAccumulator.getAverage()),
+                    (int) Math.round(sleepScoreAccumulator.getMax()),
+                    (int) Math.round(sleepScoreAccumulator.getMin())
+            );
         }
         return new WeekChartsData(barData, new PreformattedXIndexLabelFormatter(labels), getBalanceMessage(balance, mTargetValue));
     }
@@ -394,17 +388,16 @@ public class SleepPeriodFragment extends SleepFragment<SleepPeriodFragment.MyCha
     protected LineDataSet createSleepScoreDataSet(final List<Entry> values) {
         final LineDataSet lineDataSet = new LineDataSet(values, getString(R.string.sleep_score));
         lineDataSet.setColor(getResources().getColor(R.color.chart_light_sleep_light));
-        lineDataSet.setDrawCircles(false);
         lineDataSet.setLineWidth(2f);
         lineDataSet.setFillAlpha(255);
         lineDataSet.setCircleRadius(5f);
         lineDataSet.setDrawCircles(true);
-        lineDataSet.setDrawCircleHole(true);
+        lineDataSet.setDrawCircleHole(false);
         lineDataSet.setCircleColor(getResources().getColor(R.color.chart_light_sleep_light));
         lineDataSet.setAxisDependency(YAxis.AxisDependency.LEFT);
         lineDataSet.setDrawValues(true);
         lineDataSet.setValueTextSize(10f);
-        lineDataSet.setValueTextColor(CHART_TEXT_COLOR);
+        lineDataSet.setValueTextColor(LEGEND_TEXT_COLOR);
         lineDataSet.setValueFormatter(new ValueFormatter() {
             @Override
             public String getFormattedValue(float value) {
@@ -415,7 +408,7 @@ public class SleepPeriodFragment extends SleepFragment<SleepPeriodFragment.MyCha
     };
 
     private void setupSleepScoreChart() {
-        final XAxis xAxisBottom = sleepScoreChart.getXAxis();
+        final XAxis xAxisBottom = binding.sleepScoreChart.getXAxis();
         xAxisBottom.setPosition(XAxis.XAxisPosition.BOTTOM);
         xAxisBottom.setDrawLabels(true);
         xAxisBottom.setDrawGridLines(false);
@@ -427,7 +420,7 @@ public class SleepPeriodFragment extends SleepFragment<SleepPeriodFragment.MyCha
         xAxisBottom.setGranularity(1f);
         xAxisBottom.setGranularityEnabled(true);
 
-        final YAxis yAxisLeft = sleepScoreChart.getAxisLeft();
+        final YAxis yAxisLeft = binding.sleepScoreChart.getAxisLeft();
         yAxisLeft.setDrawGridLines(true);
         yAxisLeft.setAxisMaximum(100);
         yAxisLeft.setAxisMinimum(0);
@@ -435,24 +428,25 @@ public class SleepPeriodFragment extends SleepFragment<SleepPeriodFragment.MyCha
         yAxisLeft.setEnabled(true);
         yAxisLeft.setTextColor(CHART_TEXT_COLOR);
 
-        final YAxis yAxisRight = sleepScoreChart.getAxisRight();
+        final YAxis yAxisRight = binding.sleepScoreChart.getAxisRight();
         yAxisRight.setEnabled(true);
         yAxisRight.setDrawLabels(false);
         yAxisRight.setDrawGridLines(false);
         yAxisRight.setDrawAxisLine(true);
 
-        sleepScoreChart.setDoubleTapToZoomEnabled(false);
-        sleepScoreChart.getDescription().setEnabled(false);
+        binding.sleepScoreChart.setDoubleTapToZoomEnabled(false);
+        binding.sleepScoreChart.getDescription().setEnabled(false);
+        binding.sleepScoreChart.getDescription().setTextColor(LEGEND_TEXT_COLOR);
         if (TOTAL_DAYS <= 7) {
-            sleepScoreChart.setScaleEnabled(false);
-            sleepScoreChart.setTouchEnabled(false);
+            binding.sleepScoreChart.setScaleEnabled(false);
+            binding.sleepScoreChart.setTouchEnabled(false);
         }
     }
 
     @Override
     protected void renderCharts() {
-        mWeekChart.invalidate();
-        sleepScoreChart.invalidate();
+        binding.weekSleepChart.invalidate();
+        binding.sleepScoreChart.invalidate();
     }
 
     @Override
@@ -670,16 +664,34 @@ public class SleepPeriodFragment extends SleepFragment<SleepPeriodFragment.MyCha
     protected class WeekChartsData<T extends ChartData<?>> extends DefaultChartsData<T> {
         private final String balanceMessage;
         private LineData sleepScoresLineData;
+        private int avgSleepScore;
+        private int highestSleepScore;
+        private int lowestSleepScore;
 
         public WeekChartsData(T data, PreformattedXIndexLabelFormatter xIndexLabelFormatter, String balanceMessage) {
             super(data, xIndexLabelFormatter);
             this.balanceMessage = balanceMessage;
         }
 
-        public WeekChartsData(T data, PreformattedXIndexLabelFormatter xIndexLabelFormatter, String balanceMessage, LineData sleepScores) {
+        public WeekChartsData(T data, PreformattedXIndexLabelFormatter xIndexLabelFormatter, String balanceMessage, LineData sleepScores, int avgSleepScore, int highestSleepScore, int lowestSleepScore) {
             super(data, xIndexLabelFormatter);
             this.balanceMessage = balanceMessage;
             this.sleepScoresLineData = sleepScores;
+            this.avgSleepScore = avgSleepScore;
+            this.highestSleepScore = highestSleepScore;
+            this.lowestSleepScore = lowestSleepScore;
+        }
+
+        public int getHighestSleepScore() {
+            return highestSleepScore;
+        }
+
+        public int getLowestSleepScore() {
+            return lowestSleepScore;
+        }
+
+        public int getAvgSleepScore() {
+            return avgSleepScore;
         }
 
         public String getBalanceMessage() {
diff --git a/app/src/main/res/layout/fragment_weeksleep_chart.xml b/app/src/main/res/layout/fragment_weeksleep_chart.xml
index 4a485d3c74..d7086735a4 100644
--- a/app/src/main/res/layout/fragment_weeksleep_chart.xml
+++ b/app/src/main/res/layout/fragment_weeksleep_chart.xml
@@ -157,7 +157,7 @@
         </GridLayout>
 
         <com.github.mikephil.charting.charts.BarChart
-                android:id="@+id/weekstepschart"
+                android:id="@+id/week_sleep_chart"
                 android:layout_width="fill_parent"
                 android:layout_height="350dp"
         />
@@ -180,8 +180,78 @@
         <com.github.mikephil.charting.charts.LineChart
             android:id="@+id/sleep_score_chart"
             android:layout_width="fill_parent"
-            android:layout_height="350dp"
+            android:layout_height="250dp"
             />
+        <GridLayout
+            android:background="@color/gauge_line_color"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:columnCount="2"
+            android:layout_marginTop="15dp"
+            >
+            <LinearLayout
+                style="@style/GridTile"
+                android:layout_marginEnd="1dp"
+                android:layout_marginTop="2dp"
+                >
+                <TextView
+                    android:id="@+id/sleep_score_highest"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="@string/stats_empty_value"
+                    android:textSize="20sp" />
+
+                <TextView
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="@string/highest"
+                    android:textSize="12sp" />
+            </LinearLayout>
+
+
+            <LinearLayout
+                style="@style/GridTile"
+                android:layout_marginStart="1dp"
+                android:layout_marginTop="2dp"
+                >
+                <TextView
+                    android:id="@+id/sleep_score_lowest"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="@string/stats_empty_value"
+                    android:textSize="20sp" />
+
+                <TextView
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="@string/lowest"
+                    android:textSize="12sp" />
+            </LinearLayout>
+
+            <LinearLayout
+                style="@style/GridTile"
+                android:layout_marginEnd="1dp"
+                >
+                <TextView
+                    android:id="@+id/sleep_score_average"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="@string/stats_empty_value"
+                    android:textSize="20sp" />
+
+                <TextView
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="@string/hr_average"
+                    android:textSize="12sp" />
+            </LinearLayout>
+            <LinearLayout
+                style="@style/GridTile"
+                android:layout_marginStart="1dp"
+                >
+
+            </LinearLayout>
+        </GridLayout>
     </LinearLayout>
 
     </LinearLayout>
```
-----------------------------------
