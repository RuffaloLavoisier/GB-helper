# Commit: 4755a14832baa7df919b9aed1fffaf9383768023
## Message: Workout details: Fix charts in groups without entries
## Changed files:
app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/workouts/WorkoutDetailsFragment.kt

app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/workouts/entries/ActivitySummaryGroup.kt

## Diff:
```
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/workouts/WorkoutDetailsFragment.kt b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/workouts/WorkoutDetailsFragment.kt
index 5441dd05c9..1b06bba7bd 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/workouts/WorkoutDetailsFragment.kt
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/workouts/WorkoutDetailsFragment.kt
@@ -268,12 +268,20 @@ class WorkoutDetailsFragment : Fragment(), MenuProvider {
         val groups = ActivitySummaryGroup.buildGroupedList(workout.data)
 
         for ((groupKey, entries) in groups) {
+            val groupCharts = workout.charts.filter { chart -> groupKey == chart.group }
+            if (entries.isEmpty() && groupCharts.isEmpty()) {
+                continue
+            }
+
             if (ActivitySummaryEntries.GROUP_ACTIVITY != groupKey) {
                 addGroupHeader(groupKey)
             }
-            addGroupContent(entries)
 
-            workout.charts.filter { chart -> groupKey == chart.group }.forEach { chart ->
+            if (!entries.isEmpty()) {
+                addGroupContent(entries)
+            }
+
+            groupCharts.forEach { chart ->
                 addChart(binding.summaryDetails, false, chart)
             }
         }
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/workouts/entries/ActivitySummaryGroup.kt b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/workouts/entries/ActivitySummaryGroup.kt
index e939318814..0dbf55f43c 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/workouts/entries/ActivitySummaryGroup.kt
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/workouts/entries/ActivitySummaryGroup.kt
@@ -25,8 +25,8 @@ object ActivitySummaryGroup {
                 }
             }
 
-        // activeGroups is already ordered, discard empty ones
-        return activeGroups.filterValues { it.isNotEmpty() }
+        // activeGroups is already ordered
+        return activeGroups
     }
 
     /**
```
-----------------------------------
