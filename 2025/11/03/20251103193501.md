# Commit: ae0aa6df63e540940f6cc9eaee5aafc96d2b1b93
## Message: Pebble 2 Duo: react to MTU changes though the official BLE way
## Changed files:
app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/pebble/ble/PebbleGATTClient.java

## Diff:
```
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/pebble/ble/PebbleGATTClient.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/pebble/ble/PebbleGATTClient.java
index 30217aaf27..7316b2d618 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/pebble/ble/PebbleGATTClient.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/pebble/ble/PebbleGATTClient.java
@@ -222,6 +222,14 @@ class PebbleGATTClient extends BluetoothGattCallback {
         }
     }
 
+    @Override
+    public void onMtuChanged(BluetoothGatt gatt, int mtu, int status) {
+        if (status == BluetoothGatt.GATT_SUCCESS) {
+            LOG.info("MTU changed to {}", mtu);
+            mPebbleLESupport.setMTU(mtu);
+        }
+    }
+
     private void connectToPebble(BluetoothDevice btDevice) {
         if (removeBond) {
             BondingUtil.Unpair(GBApplication.getContext(), btDevice.getAddress());
```
-----------------------------------
