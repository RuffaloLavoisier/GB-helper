# Commit: ba3f6e6c31cc421f218cc18b4cca952e2a6ec8f5
## Message: Huawei: check step-by-step direction availability by version query
## Changed files:
app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huawei/p2p/HuaweiP2PDirection.java

## Diff:
```
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huawei/p2p/HuaweiP2PDirection.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huawei/p2p/HuaweiP2PDirection.java
index 4aeb31e300..4e9daf5944 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huawei/p2p/HuaweiP2PDirection.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/huawei/p2p/HuaweiP2PDirection.java
@@ -94,7 +94,7 @@ public class HuaweiP2PDirection extends HuaweiBaseP2PService {
     }
 
     private void checkAvailability() {
-        sendPing((code, data) -> manager.getSupportProvider().getCoordinator().getHuaweiCoordinator().setNavigationAvailability(code == 0xca || code == 0xc9));
+        sendCommand4( null, (version, data) -> manager.getSupportProvider().getCoordinator().getHuaweiCoordinator().setNavigationAvailability(version != -1));
     }
 
     public void startNavigation() {
```
-----------------------------------
