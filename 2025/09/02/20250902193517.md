# Commit: fc7a6f4e469e7d563881392c6cc5b450fa3faad2
## Message: Fix track when no maps folder is selected
## Changed files:
app/src/main/java/nodomain/freeyourgadget/gadgetbridge/util/maps/MapsManager.java

## Diff:
```
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/util/maps/MapsManager.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/util/maps/MapsManager.java
index 11df1cbca8..6c3468f3a8 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/util/maps/MapsManager.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/util/maps/MapsManager.java
@@ -86,19 +86,19 @@ public final class MapsManager {
         AndroidGraphicFactory.createInstance(GBApplication.app());
         final GBPrefs prefs = GBApplication.getPrefs();
 
+        final DocumentFile[] documentFiles;
         final String folderUri = prefs.getString(PREF_MAPS_FOLDER, "");
-        if (folderUri.isEmpty()) {
-            return;
+        if (!folderUri.isEmpty()) {
+            final DocumentFile folder = DocumentFile.fromTreeUri(mContext, Uri.parse(folderUri));
+            documentFiles = folder != null ? folder.listFiles() : new DocumentFile[0];
+        } else {
+            documentFiles = new DocumentFile[0];
         }
 
-        final DocumentFile folder = DocumentFile.fromTreeUri(mContext, Uri.parse(folderUri));
+        LOG.debug("Got {} map files", documentFiles.length);
 
         final MultiMapDataStore multiMapDataStore = new MultiMapDataStore(MultiMapDataStore.DataPolicy.RETURN_ALL);
 
-        final DocumentFile[] documentFiles = folder != null ? folder.listFiles() : new DocumentFile[0];
-
-        LOG.debug("Got {} map files", documentFiles.length);
-
         for (final DocumentFile documentFile : documentFiles) {
             if (!documentFile.canRead()) {
                 continue;
```
-----------------------------------
