# Commit: 6cc910af5a85720837ae0f6659f55a4f0865c55e
## Message: Control Center: Disable swipe layout if refresh on swipe is disabled
## Changed files:
app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/ControlCenterv2.java

## Diff:
```
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/ControlCenterv2.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/ControlCenterv2.java
index ca64677fa0..fa2fa364c3 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/ControlCenterv2.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/ControlCenterv2.java
@@ -248,16 +248,19 @@ public class ControlCenterv2 extends AppCompatActivity
 
         // Make sure the SwipeRefreshLayout doesn't interfere with the ViewPager2
         viewPager.getChildAt(0).setOnTouchListener((v, event) -> {
-            if (event.getAction() == MotionEvent.ACTION_MOVE) {
-                swipeLayout.setEnabled(false);
-            } else {
-                swipeLayout.setEnabled(true);
+            if (prefs.refreshOnSwipe()) {
+                if (event.getAction() == MotionEvent.ACTION_MOVE) {
+                    swipeLayout.setEnabled(false);
+                } else {
+                    swipeLayout.setEnabled(true);
+                }
             }
             return false;
         });
 
         // Set pull-down-to-refresh action
         swipeLayout = findViewById(R.id.dashboard_swipe_layout);
+        swipeLayout.setEnabled(prefs.refreshOnSwipe());
         swipeLayout.setOnRefreshListener(() -> {
             if (prefs.refreshOnSwipe()) {
                 // Fetch activity for all connected devices
```
-----------------------------------
