# Commit: 243ef1960616460b0fb3683b8cc94cef4db9bee6
## Message: Fix crash on "About you" page

Number EditText preferences must still be persisted as strings.
## Changed files:
app/src/main/java/nodomain/freeyourgadget/gadgetbridge/GBApplication.java

## Diff:
```
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/GBApplication.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/GBApplication.java
index e175268c53..d7eb8d7473 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/GBApplication.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/GBApplication.java
@@ -142,7 +142,7 @@ public class GBApplication extends Application {
     private static SharedPreferences sharedPrefs;
     private static final String PREFS_VERSION = "shared_preferences_version";
     //if preferences have to be migrated, increment the following and add the migration logic in migratePrefs below; see http://stackoverflow.com/questions/16397848/how-can-i-migrate-android-preferences-with-a-new-version
-    private static final int CURRENT_PREFS_VERSION = 51;
+    private static final int CURRENT_PREFS_VERSION = 52;
 
     private static final LimitedQueue<Integer, String> mIDSenderLookup = new LimitedQueue<>(16);
     private static GBPrefs prefs;
@@ -2145,6 +2145,14 @@ public class GBApplication extends Application {
             }
         }
 
+        if (oldVersion < 52) {
+            if (prefs.contains("activity_user_sleep_duration_minutes")) {
+                final int minutes = prefs.getInt("activity_user_sleep_duration_minutes", 7 * 60);
+                editor.remove("activity_user_sleep_duration_minutes");
+                editor.putString("activity_user_sleep_duration_minutes", String.valueOf(minutes));
+            }
+        }
+
         editor.putString(PREFS_VERSION, Integer.toString(CURRENT_PREFS_VERSION));
         editor.apply();
     }
```
-----------------------------------
