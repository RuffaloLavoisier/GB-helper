# Commit: bd2bac38f066b60d862e082f71fbd2fbb79c26ac
## Message: Garmin: Fix file transfer data offset

Despite working for most devices, some will send the same chunk over and
over again (#5353). Btsnoops from multiple devices confirm that this is
expected to be the next data offset.
## Changed files:
app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/garmin/messages/FileTransferDataMessage.java

## Diff:
```
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/garmin/messages/FileTransferDataMessage.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/garmin/messages/FileTransferDataMessage.java
index 2aff933c12..f607e9fb4c 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/garmin/messages/FileTransferDataMessage.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/garmin/messages/FileTransferDataMessage.java
@@ -19,7 +19,12 @@ public class FileTransferDataMessage extends GFDIMessage {
         this.crc = crc;
         this.message = message;
 
-        this.statusMessage = new FileTransferDataStatusMessage(GarminMessage.FILE_TRANSFER_DATA, Status.ACK, FileTransferDataStatusMessage.TransferStatus.OK, dataOffset);
+        this.statusMessage = new FileTransferDataStatusMessage(
+                GarminMessage.FILE_TRANSFER_DATA,
+                Status.ACK,
+                FileTransferDataStatusMessage.TransferStatus.OK,
+                dataOffset + message.length
+        );
         this.sendOutgoing = sendOutgoing;
     }
 
```
-----------------------------------
