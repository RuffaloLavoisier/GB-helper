# Commit: c3d6932f14a813c8642cd1a77eda6d2815aa39c2
## Message: Honor swipe to refresh preference on workouts list / charts
## Changed files:
app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/charts/ActivityChartsActivity.java

app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/workouts/WorkoutListActivity.kt

## Diff:
```
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/charts/ActivityChartsActivity.java b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/charts/ActivityChartsActivity.java
index 6d976a5abb..1baaa72b53 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/charts/ActivityChartsActivity.java
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/charts/ActivityChartsActivity.java
@@ -430,7 +430,8 @@ public class ActivityChartsActivity extends AbstractGBActivity implements Charts
 
     @Override
     public void enableSwipeRefresh(final boolean enable) {
-        swipeLayout.setEnabled(enable && allowRefresh());
+        final boolean refreshOnSwipe = GBApplication.getPrefs().refreshOnSwipe();
+        swipeLayout.setEnabled(enable && refreshOnSwipe && allowRefresh());
     }
 
     protected boolean supportsRefresh() {
diff --git a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/workouts/WorkoutListActivity.kt b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/workouts/WorkoutListActivity.kt
index ec6da3c6bb..f30b0c5ae1 100644
--- a/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/workouts/WorkoutListActivity.kt
+++ b/app/src/main/java/nodomain/freeyourgadget/gadgetbridge/activities/workouts/WorkoutListActivity.kt
@@ -199,6 +199,7 @@ class WorkoutListActivity : AbstractListActivity<BaseActivitySummary>() {
                 swipeLayout.isRefreshing = false
             }
         }
+        swipeLayout.setEnabled(GBApplication.getPrefs().refreshOnSwipe())
 
         val fab: FloatingActionButton = findViewById(R.id.fab)
         fab.setOnClickListener { fetchTrackData() }
```
-----------------------------------
